{"version":3,"sources":["libs/engines/3d/models/Astronaut.glb","libs/engines/3d/models/VoxelGuy.glb","libs/engines/3d/models/Woman.glb","sounds/footstep0.mp3","sounds/footstep1.mp3","libs/engines/3d/models/tree.glb","libs/engines/3d/textures/blackgrid.jpg","sounds/background.mp3","libs/engines/3d/models/coin.glb","img/share.svg","img/app-store.png","img/google-play.png","libs/engines/3d/three.js","libs/engines/3d/Unit.js","libs/utils/handlers/transitionHandler/timingFunctions.js","libs/utils/handlers/transitionHandler/index.js","libs/engines/3d/Scene.js","libs/utils/isTouchDevice.js","libs/engines/3d/modelLoader.js","libs/engines/3d/units/Character.js","libs/engines/3d/textureLoader.js","libs/engines/3d/units/Landscape.js","libs/engines/3d/units/Coins.js","libs/engines/3d/units/Lights.js","libs/engines/3d/units/Fog.js","libs/utils/isMobile.js","libs/utils/isLandscape.js","libs/engines/3d/units/Controls.js","libs/engines/3d/units/BloomPostprocessing/index.js","libs/utils/coinCodes.js","libs/utils/copyToClipboard.js","components/CoinsCollected.js","components/ThreeScene.js","components/WordChanger.js","components/DownloadLinks.js","components/ExternalLink.js","components/VideoModal.js","components/Arrow.js","components/TextArea.js","libs/utils/countable.js","components/OgImage.js","components/SharePagesGenerator.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","window","THREE","Unit","props","animate","frame","dispose","this","fns","t","k","easeIn","easeOut","easeInOut","TransitionsHandler","animateTransitions","unregisteredTransitions","transitions","forEach","transition","currentFrame","numberOfFrames","push","alpha","timingFuntion","timingFuntions","variable","copy","initialValue","clone","lerp","value","transitionToUnregister","onComplete","unregisterTransition","id","registerTransition","currentId","Number","MAX_SAFE_INTEGER","transitionId","transitionIndex","map","indexOf","splice","unregisterAllTransitions","length","noActiveTransitions","sceneVariables","renderer","undefined","camera","scene","Scene","composer","controls","clock","Clock","frameNumber","units","unitsToggled","init","ViewerDiv","W","clientWidth","H","clientHeight","optimise","WebGLRenderer","antialias","setClearColor","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","appendChild","domElement","PerspectiveCamera","OrbitControls","position","z","update","EffectComposer","addPass","RenderPass","initUnits","frameId","requestAnimationFrame","disposeUnits","cancelAnimationFrame","resize","aspect","updateProjectionMatrix","Object","keys","unitName","input","Controls","maxFrameNumber","react","render","getDelta","unit","disabled","children","remove","toggleUnits","transitionHandler","document","createEvent","e","model","a","Promise","res","rej","GLTFLoader","load","gltf","progress","console","log","loaded","total","error","getModelOffset","isTouchDevice","innerWidth","modelOffset","Vector3","minPosition","maxPosition","xAxis","yAxis","zAxis","nextPos","nextPosCollision","distanceToTree","treesCollisionForces","cameraAngleX","cameraAngleConrolsApplied","Vector2","moveCameraAngleApplied","cameraToTarget","modelQuaternion","Quaternion","tmpVector","models","file","VoxelGuyModel","scale","animationScale","AstronautModel","WomanModel","Character","loadModel","randomModel","Math","round","random","modelLoader","gtlf","mixer","AnimationMixer","action","clipAction","animations","play","set","add","startStepsSounds","interval","timeScale","footstep0Interval","footstep0","currentTime","setInterval","footstep1Interval","footstep1Timeout","setTimeout","footstep1","stopStepsSounds","clearInterval","clearTimeout","firstFlag","moveSpeed","move","angleTo","sign","x","PI","mouse","alphaX","alphaY","applyAxisAngle","jumping","y","space","jumpingForce","initialJumpForce","setY","clamp","trees","Landscape","i","sub","normalize","multiplyScalar","quaternion","slerp","setFromUnitVectors","target","Audio","TextureLoader","texture","Laandscape","textureLoader","planeTextureImage","planeTexture","wrapS","RepeatWrapping","wrapT","repeat","plane","Mesh","PlaneGeometry","MeshBasicMaterial","side","DoubleSide","rotateX","treeModel","treeMesh","dummy","Object3D","treePos","treeInstance","InstancedMesh","geometry","material","instanceMatrix","setUsage","DynamicDrawUsage","randomX","max","randomZ","ArenaRadius","rotation","updateMatrix","setMatrixAt","matrix","needsUpdate","addSoundButton","getElementById","insertAdjacentHTML","ReactDOMServer","renderToString","renderSoundButton","addEventListener","hideSoundButton","elem","removeChild","audio","className","role","aria-label","title","backgroundMusic","initialScale","finalScale","charachterPos","coinInitialPos","Coins","coinModel","coinMesh","coinInstance","middleOfArray","floor","coins","emmitCoin","coin","distanceTo","shownSprite","sprites","addCoin","index","text","sprite","TextSprite","color","redrawInterval","textSize","minFontSize","maxFontSize","Array","from","Lowpoly","angle2","angle3","angle4","light2","cos","sin","light3","light4","DirectionalLight","Fog","fog","navigator","userAgent","match","isMobile","matchMedia","matches","innerHeight","initialThis","moveFlags","up","code","pressed","down","left","right","addJoystick","options","zone","mode","isLandscape","size","joystickManager","nipplejs","create","on","data","angle","radian","addSpaceButton","body","getDirectionState","direction","key","reduce","b","handleMouseMove","pageX","pageY","handleKeyDown","keyCode","handleKeyUp","removeEventListener","destroy","BloomPostprocessing","bloom","BloomEffect","intensity","pass","EffectPass","coinCodes","str","el","createElement","select","execCommand","CoinsCollected","state","showShare","copied","renderSharePanel","coinsCollected","min","number","coinsCollectedCode","url","shortUrl","onClick","setState","copyToClipboard","alt","src","TwitterShareButton","VKShareButton","FacebookShareButton","replace","TelegramShareButton","shareIcon","ReactDOM","createPortal","React","Component","ThreeScene","componentWillUnmount","ref","viewerRef","createRef","Lights","resizeObs","ResizeObserver","bind","observe","current","TextArea","componentDidMount","changeWordInterval","changeWord","shrinked","currentIndex","modulus","words","item","word","AppStore","GooglePlay","href","to","newTab","rel","show","hide","frameborder","allow","allowfullscreen","slides","scrollableContainerRef","debouncedOnScroll","onScroll","scrollAlpha","scrollableContentRef","getBoundingClientRect","top","getMaxScroll","currentSlide","parseInt","debounce","nextSlide","scrollIntoView","prevSlide","DownloadLinks","showVideoModal","ExternalLink","slide","Arrow","numberOfSlides","VideoModal","isArray","OgImage","problematicLines","getElementsByClassName","element","style","width","node","htmlToImage","toPng","then","dataUrl","download","amount","catch","generationOffset","location","reload","drawPlus","countable","SharePagesGenerator","App","page","queryString","parse","search","parseFloat","history","replaceState","Boolean","hostname","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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,uBAAuB,qBAAqB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,yBAAyB,yBAAyB,0BAA0B,yBAAyB,yBAAyB,uBAAuB,yBAAyB,0BAA0B,qBAAqB,0BAA0B,wBAAwB,uBAAuB,wBAAwB,sBAAsB,sBAAsB,wBAAwB,uBAAuB,sBAAsB,wBAAwB,wBAAwB,wBAAwB,sBAAsB,yBAAyB,uBAAuB,uBAAuB,yBAAyB,uBAAuB,wBAAwB,0BAA0B,yBAAyB,wBAAwB,uBAAuB,yBAAyB,0BAA0B,wBAAwB,0BAA0B,uBAAuB,uBAAuB,0BAA0B,wBAAwB,0BAA0B,2BAA2B,wBAAwB,0BAA0B,0BAA0B,2BAA2B,yBAAyB,wBAAwB,wBAAwB,2BAA2B,yBAAyB,wBAAwB,uBAAuB,0BAA0B,wBAAwB,0BAA0B,sBAAsB,uBAAuB,0BAA0B,wBAAwB,yBAAyB,yBAAyB,yBAAyB,wBAAwB,uBAAuB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,wBAAwB,wBAAwB,wBAAwB,0BAA0B,wBAAwB,0BAA0B,uBAAuB,wBAAwB,0BAA0B,yBAAyB,uBAAuB,wBAAwB,yBAAyB,yBAAyB,uBAAuB,0BAA0B,wBAAwB,yBAAyB,sBAAsB,yBAAyB,2BAA2B,wBAAwB,wBAAwB,2BAA2B,uBAAuB,yBAAyB,wBAAwB,0BAA0B,0BAA0B,yBAAyB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,yBAAyB,0BAA0B,uBAAuB,uBAAuB,uBAAuB,wBAAwB,wBAAwB,wBAAwB,uBAAuB,0BAA0B,yBAAyB,0BAA0B,0BAA0B,yBAAyB,uBAAuB,uBAAuB,uBAAuB,yBAAyB,uBAAuB,wBAAwB,uBAAuB,uBAAuB,uBAAuB,uBAAuB,uBAAuB,uBAAuB,wBAAwB,yBAAyB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,yBAAyB,4BAA4B,6BAA6B,yBAAyB,0BAA0B,yBAAyB,0BAA0B,wBAAwB,yBAAyB,wBAAwB,uBAAuB,uBAAuB,wBAAwB,wBAAwB,uBAAuB,uBAAuB,wBAAwB,wBAAwB,yBAAyB,uBAAuB,yBAAyB,yBAAyB,yBAAyB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,uBAAuB,uBAAuB,wBAAwB,wBAAwB,wBAAwB,uBAAuB,uBAAuB,wBAAwB,yBAAyB,yBAAyB,qBAAqB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,uBAAuB,wBAAwB,wBAAwB,uBAAuB,0BAA0B,uBAAuB,yBAAyB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,uBAAuB,uBAAuB,2BAA2B,yBAAyB,yBAAyB,0BAA0B,wBAAwB,wBAAwB,wBAAwB,yBAAyB,yBAAyB,wBAAwB,yBAAyB,yBAAyB,0BAA0B,uBAAuB,wBAAwB,yBAAyB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,0BAA0B,yBAAyB,0BAA0B,yBAAyB,qBAAqB,uBAAuB,uBAAuB,uBAAuB,sBAAsB,2BAA2B,2BAA2B,0BAA0B,wBAAwB,yBAAyB,wBAAwB,wBAAwB,2BAA2B,uBAAuB,wBAAwB,2BAA2B,8BAA8B,wBAAwB,yBAAyB,yBAAyB,2BAA2B,0BAA0B,yBAAyB,yBAAyB,uBAAuB,yBAAyB,0BAA0B,0BAA0B,0BAA0B,uBAAuB,0BAA0B,2BAA2B,sBAAsB,wBAAwB,wBAAwB,uBAAuB,2BAA2B,uBAAuB,qBAAqB,yBAAyB,yBAAyB,wBAAwB,uBAAuB,uBAAuB,wBAAwB,uBAAuB,yBAAyB,uBAAuB,uBAAuB,uBAAuB,0BAA0B,wBAAwB,2BAA2B,uBAAuB,uBAAuB,0BAA0B,0BAA0B,sBAAsB,0BAA0B,yBAAyB,yBAAyB,0BAA0B,yBAAyB,uBAAuB,0BAA0B,2BAA2B,0BAA0B,yBAAyB,0BAA0B,0BAA0B,uBAAuB,yBAAyB,0BAA0B,wBAAwB,wBAAwB,0BAA0B,wBAAwB,2BAA2B,yBAAyB,sBAAsB,wBAAwB,yBAAyB,yBAAyB,wBAAwB,uBAAuB,0BAA0B,0BAA0B,wBAAwB,uBAAuB,uBAAuB,uBAAuB,wBAAwB,0BAA0B,wBAAwB,wBAAwB,wBAAwB,uBAAuB,uBAAuB,wBAAwB,uBAAuB,wBAAwB,uBAAuB,wBAAwB,wBAAwB,2BAA2B,wBAAwB,2BAA2B,0BAA0B,2BAA2B,yBAAyB,wBAAwB,yBAAyB,uBAAuB,2BAA2B,wBAAwB,wBAAwB,wBAAw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","file":"static/js/main.6c9d5cb5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Astronaut.ac9701ba.glb\";","module.exports = __webpack_public_path__ + \"static/media/VoxelGuy.3119f9c6.glb\";","module.exports = __webpack_public_path__ + \"static/media/Woman.c9ed6341.glb\";","module.exports = __webpack_public_path__ + \"static/media/footstep0.81acdc76.mp3\";","module.exports = __webpack_public_path__ + \"static/media/footstep1.2b680b02.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tree.46613934.glb\";","module.exports = __webpack_public_path__ + \"static/media/blackgrid.3d7d5793.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background.3c316576.mp3\";","module.exports = __webpack_public_path__ + \"static/media/coin.e8a0d624.glb\";","module.exports = __webpack_public_path__ + \"static/media/share.d8cd7f4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/app-store.d388a3f2.png\";","module.exports = __webpack_public_path__ + \"static/media/google-play.ef5c7ffd.png\";","import * as THREE from 'three'\n\nwindow.THREE = THREE\n\nexport default THREE","export default class Unit {\n  constructor(props) { this.props = props }\n  animate = frame => {}\n  dispose = () => {}\n}","let fns = {}\n\nfns.linear = t => t\nfns.easeInQuad = t => t * t\nfns.easeOutQuad = t => t * (2 - t)\nfns.easeInOutQuad = t => t < .5 ? 2 * (t ** 2) : -1 + (4 - 2 * t) * t\nfns.easeInCubic = t => t * t * t\nfns.easeOutCubic = t => (--t) * t * t + 1\nfns.easeInOutCubic = t => t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\nfns.easeInQuart = t => t * t * t * t\nfns.easeOutQuart = t => 1-(--t) * t * t * t\nfns.easeInOutQuart = t => t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\nfns.easeInQuint = t => t * t * t * t * t\nfns.easeOutQuint = t => 1 + (--t) * t * t * t * t\nfns.easeInOutQuint = t => t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n\nfns.easeIn = (t, k) => (t ** k)\nfns.easeOut = (t, k) => 1 - fns.easeIn(1 - t, k)\nfns.easeInOut = (t, k) => t < .5 ?\n  fns.easeIn(t * 2, k) / 2\n  :\n  1 - fns.easeIn((1 - t) * 2, k) / 2\n\nfns.easeIn2 = t => fns.easeIn(t, 1.5)\nfns.easeOut2 = t => fns.easeOut(t, 1.5)\nfns.easeInOut2 = t => fns.easeInOut(t, 1.5)\n\n\nexport default fns","import Unit from 'libs/engines/3d/Unit'\n\nimport timingFuntions from './timingFunctions'\n\nexport default class TransitionsHandler extends Unit {\n  constructor(props) {\n    super(props)\n    this.transitions = []\n    this.currentId = 0\n  }\n\n  animateTransitions = () => {\n    let unregisteredTransitions = []\n\n    this.transitions.forEach(transition => {\n      if (transition.currentFrame >= transition.numberOfFrames)\n        unregisteredTransitions.push(transition)\n      else {\n        // const alpha = 1 / (transition.numberOfFrames - transition.currentFrame)\n        const alpha = transition.currentFrame / transition.numberOfFrames\n        const timingFuntion = timingFuntions[transition.timingFuntion] || (t => t)\n\n        transition.variable.copy(transition.initialValue\n          .clone()\n          .lerp(transition.value, timingFuntion(alpha)))\n\n        transition.currentFrame++\n      }\n    })\n\n    unregisteredTransitions.forEach(transitionToUnregister => {\n      transitionToUnregister.onComplete && transitionToUnregister.onComplete()\n      this.unregisterTransition(transitionToUnregister.id)\n    })\n  }\n\n  registerTransition = props => {\n    this.transitions.push({\n      id: this.currentId = (this.currentId + 1) % Number.MAX_SAFE_INTEGER,\n      variable: props.variable,\n      value: props.value.clone(),\n      initialValue: props.variable.clone(),\n      numberOfFrames: props.numberOfFrames || 10,\n      currentFrame: 0,\n      timingFuntion: props.timingFuntion || \"none\",\n      onComplete: props.onComplete || (() => {}),\n    })\n\n    return this.currentId\n  }\n\n  unregisterTransition = transitionId => {\n    const transitionIndex = this.transitions\n      .map(transition => transition.id)\n      .indexOf(transitionId)\n\n    if (transitionIndex !== -1)\n      this.transitions.splice(transitionIndex, 1)\n  }\n\n  unregisterAllTransitions = () => this.transitions.length = 0\n\n  noActiveTransitions = () => this.transitions.length === 0\n\n}","import THREE from 'libs/engines/3d/three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js'\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js'\nimport { EffectComposer, RenderPass } from 'postprocessing'\n\nimport transitionHandler from 'libs/utils/handlers/transitionHandler'\n\n\nconst targetToCamera = -15\nconst maxFrameNumber = 5000\n\nvar sceneVariables = {\n  renderer: undefined,\n  camera: undefined,\n  scene: new THREE.Scene(),\n  composer: undefined,\n  controls: undefined,\n\n  clock: new THREE.Clock(),\n  frameNumber: 0,\n\n  units: {},\n  unitsToggled: false,\n}\n\n\nexport default class Scene extends transitionHandler {\n\n  constructor(props) {\n    super(props)\n    this.scene = sceneVariables\n  }\n\n  init = ViewerDiv => {\n    const W = ViewerDiv.clientWidth\n    const H = ViewerDiv.clientHeight\n\n    //ADD RENDERER\n    const optimise = W > 1200\n    this.scene.renderer = new THREE.WebGLRenderer({ antialias: !optimise, alpha: true })\n    this.scene.renderer.setClearColor(0x000000, 0)\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n    this.scene.renderer.shadowMap.enabled = true\n\n    ViewerDiv.appendChild(this.scene.renderer.domElement)\n\n    //ADD CAMERA\n    this.scene.camera = new THREE.PerspectiveCamera(\n      75,\n      W / H,\n      0.1,\n      1000\n    )\n    this.scene.controls = new OrbitControls(this.scene.camera, this.scene.renderer.domElement)\n    this.scene.controls.enabled = false\n    this.scene.camera.position.z = targetToCamera\n    this.scene.controls.update()\n\n    this.scene.composer = new EffectComposer(this.scene.renderer)\n    this.scene.composer.addPass(new RenderPass(this.scene.scene, this.scene.camera))\n\n    this.initUnits()\n\n    if (!this.frameId)\n      this.frameId = requestAnimationFrame(this.animate)\n  }\n\n  dispose = () => {\n    this.disposeUnits()\n    cancelAnimationFrame(this.frameId)\n  }\n\n  resize = (W, H) => {\n    if (!this.scene.renderer || !this.scene.camera)\n      return\n\n    // const optimise = W > 1200\n\n    this.scene.camera.aspect = W / H\n    this.scene.camera.updateProjectionMatrix()\n\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n  }\n\n  animate = () => {\n    this.scene.frameNumber = (this.scene.frameNumber + 1) % maxFrameNumber\n\n    const {\n      composer,\n      controls,\n      units,\n      clock,\n    } = this.scene\n\n    Object.keys(units)\n      .forEach(unitName =>\n        units[unitName].animate({\n          THREE: THREE,\n          ...this.scene,\n          input: this.scene.units.Controls,\n          maxFrameNumber: maxFrameNumber,\n          react: this.props.react,\n        }))\n\n    controls.update()\n    // composer.render()\n    composer.render(clock.getDelta())\n\n    this.frameId = window.requestAnimationFrame(this.animate)\n  }\n\n\n  initUnits = () => {\n    const props = {\n      THREE: THREE,\n      ...this.scene,\n      input: this.scene.units.Controls,\n      maxFrameNumber: maxFrameNumber,\n      react: this.props.react,\n    }\n\n    Object.keys(this.props.units)\n      .forEach(unitName => {\n        const unit = this.props.units[unitName]\n\n        if (!unit.disabled ^ this.scene.unitsToggled) {\n          this.scene.units[unitName] = new unit.unit(props)\n          this.scene.units[unitName].init &&\n            this.scene.units[unitName].init()\n        }\n      })\n  }\n\n  disposeUnits = () => {\n    const {\n      scene,\n      units,\n    } = this.scene\n\n    Object.keys(units)\n      .forEach(unitName => units[unitName].dispose())\n\n    //REDO THIS SHIT: units should unregister themselves\n    while(scene.children.length > 0)\n      scene.remove(scene.children[0])\n  }\n\n  toggleUnits = () => {\n    this.disposeUnits()\n    this.scene.unitsToggled = !this.scene.unitsToggled\n    this.initUnits()\n  }\n\n  // toggleUnit = unitName => {\n  //   // if (this.scene[unitName].enabled)\n  //   console.log(this.scene.scene.children)\n  // }\n}\n","export default () => {\n  try {  \n    document.createEvent(\"TouchEvent\")  \n    return true  \n  } catch (e) {  \n    return false  \n  }  \n}\n","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\n\n\nexport default async model =>\n  new Promise((res, rej) =>\n    new GLTFLoader()\n      .load(\n        model,\n        gltf =>\n          res(gltf),\n        progress =>\n          console.log((progress.loaded / progress.total * 100) + '% loaded'),\n        error =>\n          rej(error),\n      )\n  )\n","import THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\n\nimport modelLoader from 'libs/engines/3d/modelLoader'\nimport AstronautModel from 'libs/engines/3d/models/Astronaut.glb'\nimport VoxelGuyModel from 'libs/engines/3d/models/VoxelGuy.glb'\nimport WomanModel from 'libs/engines/3d/models/Woman.glb'\nimport footstep0 from 'sounds/footstep0.mp3'\nimport footstep1 from 'sounds/footstep1.mp3'\n\n\nconst ArenaRadius = 300\nconst modelXOffset = 5\nconst modelXOffsetTouch = .1\nconst getModelOffset = () =>\n  isTouchDevice() || window.innerWidth < 1200 ?\n    modelXOffsetTouch : modelXOffset\nvar modelOffset = new THREE.Vector3(getModelOffset(), 0, 0)\nconst slowerAnimation = .1\n\nconst initialJumpForce = 550\nconst jumpScale = .002\n\nconst minPosition = new THREE.Vector3(-ArenaRadius, 0,           -ArenaRadius)\nconst maxPosition = new THREE.Vector3( ArenaRadius, ArenaRadius,  ArenaRadius)\nconst xAxis = new THREE.Vector3(1, 0, 0)\nconst yAxis = new THREE.Vector3(0, 1, 0)\nconst zAxis = new THREE.Vector3(0, 0, 1)\n\nvar nextPos = new THREE.Vector3(0, 0, 0)\nvar nextPosCollision = new THREE.Vector3(0, 0, 0)\n\nconst collisionK = .5\nvar distanceToTree = new THREE.Vector3(0, 0, 0)\nvar treesCollisionForces = new THREE.Vector3(0, 0, 0)\n\nvar cameraAngleX = 0\nvar cameraAngleConrolsApplied = new THREE.Vector2(0, 0)\nvar moveCameraAngleApplied = new THREE.Vector3()\nvar cameraToTarget = new THREE.Vector3()\nvar modelQuaternion = new THREE.Quaternion()\nvar tmpVector = new THREE.Vector3()\n\nconst models = [\n  {\n    file: VoxelGuyModel,\n    scale: 5,\n    animationScale: 5,\n  },\n  {\n    file: AstronautModel,\n    scale: 1.25,\n    animationScale: 4.2,\n  },\n  {\n    file: WomanModel,\n    scale: 3,\n    animationScale: 3.8,\n  },\n]\n\n\nexport default class Character extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.loadModel()\n\n    this.firstFlag = true\n\n    this.footstep0 = new Audio(footstep0)\n    this.footstep1 = new Audio(footstep1)\n    this.footstep0Interval = undefined\n    this.footstep1Interval = undefined\n\n    this.jumping = false\n    this.jumpingForce = new THREE.Vector3(0, 0, 0)\n  }\n\n  loadModel = async () => {\n    const randomModel = models[Math.round(Math.random() * (models.length - 1))]\n\n    this.gtlf = await modelLoader(randomModel.file)\n    this.model = this.gtlf.scene\n    this.mixer = new THREE.AnimationMixer( this.gtlf.scene )\n    this.action = this.mixer.clipAction( this.gtlf.animations[ 0 ] )\n    this.action.play()\n\n    this.model.position.set(getModelOffset(), 0, 0)\n    this.model.scale.set(randomModel.scale, randomModel.scale, randomModel.scale)\n\n    this.props.scene.add(this.model)\n  }\n\n  startStepsSounds = () => {\n    const interval = Math.round(1250 / this.mixer.timeScale)\n\n    if (!this.footstep0Interval) {\n      this.footstep0.currentTime = 0\n      this.footstep0.play()\n      this.footstep0Interval = setInterval(() => {\n        this.footstep0.currentTime = 0\n        this.footstep0.play()\n      }, interval)\n    }\n    if (!this.footstep1Interval && !this.footstep1Timeout) {\n      this.footstep1Timeout = setTimeout(() => {\n        this.footstep1.currentTime = 0\n        this.footstep1.play()\n        this.footstep1Interval = setInterval(() => {\n          this.footstep1.currentTime = 0\n          this.footstep1.play()\n        }, interval)\n      }, Math.round(interval / 2))\n    }\n  }\n  stopStepsSounds = () => {\n    if (this.footstep0Interval) {\n      clearInterval(this.footstep0Interval)\n      this.footstep0Interval = undefined\n    }\n    if (this.footstep1Interval) {\n      clearInterval(this.footstep1Interval)\n      this.footstep1Interval = undefined\n    }\n    if (this.footstep1Timeout) {\n      clearTimeout(this.footstep1Timeout)\n      this.footstep1Timeout = undefined\n    }\n  }\n\n  animate = props => {\n    //COMPLETE INITIALIZATIONS\n    if (!this.model)\n      return\n\n    if (this.firstFlag) {\n      this.firstFlag = false\n      this.mixer.timeScale *= props.input.moveSpeed * slowerAnimation\n    }\n\n    //CALC MOVE ACCORDING TO CAMERA VIEW ANGLE\n    cameraAngleX +=\n      props.input.move.z > 0 ?\n        props.input.move.angleTo(zAxis) / 150 * Math.sign(props.input.move.x)\n        :\n        (Math.PI - props.input.move.angleTo(zAxis)) / 150 * Math.sign(props.input.move.x)\n\n    if (!isTouchDevice())\n      cameraAngleConrolsApplied.set(\n        props.input.mouse.alphaX * Math.PI * 1.5 + cameraAngleX,\n        props.input.mouse.alphaY * Math.PI / 12\n      )\n    else\n      cameraAngleConrolsApplied.set(cameraAngleX, Math.PI / 16)\n\n    moveCameraAngleApplied\n      .copy(props.input.move)\n        .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    modelOffset\n      .set(getModelOffset(), 0, 0)\n      .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    nextPos.copy(this.model.position)\n      .add(moveCameraAngleApplied)\n\n    //HANDLE JUMP\n    if (this.jumping && nextPos.y <= 0)\n      this.jumping = false\n\n    if (!this.jumping && props.input.space) {\n      this.jumping = true\n      this.jumpingForce.set(\n        moveCameraAngleApplied.x / 1.6,\n        initialJumpForce * jumpScale,\n        moveCameraAngleApplied.z / 1.6)\n    }\n    \n    if (this.jumping) {\n      nextPos.copy(this.model.position)\n        .add(this.jumpingForce)\n      \n      this.jumpingForce.setY(this.jumpingForce.y - 9.8 * jumpScale)\n    }\n\n    //CLAMP POSITION BY SCENE SIZE\n    nextPos.clamp(minPosition, maxPosition)\n\n    nextPosCollision.copy(nextPos)//.setY(0)\n\n    //HANDLE TREE COLLISION\n    const trees = props.units?.Landscape?.trees\n    treesCollisionForces.set(0, 0, 0)\n\n    if (trees)\n      for (let i = 0; i < trees.length; i++) {\n        distanceToTree\n          .copy(nextPosCollision)\n          .sub(trees[i].position)\n\n        if (distanceToTree.length() < trees[i].scale * 1.35) {\n          distanceToTree\n            .normalize()\n            .multiplyScalar(collisionK)\n\n          treesCollisionForces.add(distanceToTree)\n        }\n      }\n\n    nextPos.add(treesCollisionForces)\n\n    //MOVE MODEL\n    this.model.position.copy(nextPos)\n    if (props.input.move.length() > .01 && !this.jumping) {\n      // this.startStepsSounds()\n      this.mixer.update(props.clock.getDelta())\n    } else\n      ;//this.stopStepsSounds()\n\n    //ROTATE MODEL TOWARDS MOVE DIRECTION\n    if (props.input.move.length() > 0)\n      this.model.quaternion.slerp(\n        modelQuaternion\n          .setFromUnitVectors(zAxis, moveCameraAngleApplied.normalize())\n        , .135)\n\n    //CALC CAMERA POS\n    cameraToTarget = (new THREE.Vector3(0, 0, -15))\n      .applyAxisAngle(xAxis, cameraAngleConrolsApplied.y)\n      .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    props.controls.target.copy(this.model.position).sub(modelOffset)\n    props.controls.target.setY(props.controls.target.y + (isTouchDevice() ? 7 : 5))\n    props.camera.position.copy(tmpVector.copy(this.props.controls.target).add(cameraToTarget))\n  }\n\n  dispose = () => {}\n}\n","import THREE from 'libs/engines/3d/three'\n\n\nexport default async file =>\n  new Promise((res, rej) =>\n    new THREE.TextureLoader()\n      .load(file,\n        texture =>\n          res(texture),\n        progress => {},\n        error =>\n          rej(error)\n      )\n  )","import React from 'react'\nimport ReactDOMServer from 'react-dom/server'\n\n\nimport THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport modelLoader from 'libs/engines/3d/modelLoader'\nimport textureLoader from 'libs/engines/3d/textureLoader'\n\nimport treeModel from 'libs/engines/3d/models/tree.glb'\nimport planeTextureImage from 'libs/engines/3d/textures/blackgrid.jpg'\nimport backgroundMusic from 'sounds/background.mp3'\n\nconst treeAmount = 75\nconst ArenaRadius = 300\n\nexport default class Laandscape extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.audio = new Audio(backgroundMusic)\n    this.audio.addEventListener('ended', () => {\n      this.audio.currentTime = 0\n      this.audio.play()\n    })\n\n    this.loadModel()\n    this.addSoundButton()\n    \n  }\n\n  loadModel = async () => {\n    var planeTexture = await textureLoader(planeTextureImage)\n    planeTexture.wrapS = THREE.RepeatWrapping\n    planeTexture.wrapT = THREE.RepeatWrapping\n    planeTexture.repeat.set( 27, 27 )\n    this.plane = new THREE.Mesh(\n      new THREE.PlaneGeometry( 2 * ArenaRadius, 2 * ArenaRadius, 1, 1 ),\n      new THREE.MeshBasicMaterial({\n        map: planeTexture,\n        side: THREE.DoubleSide,\n      })\n    )\n    this.plane.rotateX(Math.PI / 2)\n    this.props.scene.add( this.plane )\n\n    const treeMesh = (await modelLoader(treeModel)).scene\n    var dummy = new THREE.Object3D()\n    var treePos = new THREE.Vector3()\n\n    this.treeInstance = new THREE.InstancedMesh(treeMesh.children[0].geometry, treeMesh.children[0].material, treeAmount)\n    this.treeInstance.instanceMatrix.setUsage( THREE.DynamicDrawUsage )\n    this.props.scene.add(this.treeInstance)\n\n    this.trees = []\n    for (let i = 0; i < treeAmount; i++) {\n      let randomX = Math.max(Math.random(), .1) * Math.sign(Math.random() - .5)\n      let randomZ = Math.max(Math.random(), .1) * Math.sign(Math.random() - .5)\n\n      treePos\n        .set(\n          ArenaRadius * randomX,\n          ArenaRadius / 8 * Math.random(),\n          ArenaRadius * randomZ,\n        )\n\n      let scale = (1 + Math.random()) * 10\n      dummy.scale.set(scale, scale, scale)\n      dummy.position.copy(treePos)\n      this.trees.push({\n        position: (new THREE.Vector3()).copy(dummy.position),\n        scale: scale,\n      })\n      dummy.rotation.y = (-.5 + Math.random()) * Math.PI / 2\n      dummy.rotation.x = (.5 + Math.random()) * Math.PI / 2\n      dummy.updateMatrix()\n      this.treeInstance.setMatrixAt(i, dummy.matrix)\n    }\n\n    this.treeInstance.instanceMatrix.needsUpdate = true\n  }\n\n\n  addSoundButton = () => {\n    document.getElementById(\"root\")\n      .insertAdjacentHTML('beforeend',\n        ReactDOMServer.renderToString(\n          this.renderSoundButton()))\n\n    window.addEventListener(\"click\", e => {\n      if (e.target.id === \"sound-alert\")\n        this.hideSoundButton()\n    })      \n  }\n\n  hideSoundButton = () => {\n    console.log(\"a\")\n    const elem = document.getElementById(\"sound-alert\")\n    document.getElementById(\"root\").removeChild(elem)\n    this.audio.play()\n  }\n\n  renderSoundButton = () => (\n    <div\n      id=\"sound-alert\"\n      className=\"sound-alert\"\n    >\n        <span\n        className=\"emoji\"\n        role=\"img\"\n        aria-label=\"sound\"\n        title=\"sound\"\n      >\n        \n      </span>\n    </div>\n  )\n\n  animate = props => {}\n  dispose = () => {}\n}\n","import TextSprite from 'three.textsprite'\nimport THREE from 'libs/engines/3d/three'\nimport transitionHandler from 'libs/utils/handlers/transitionHandler'\nimport modelLoader from 'libs/engines/3d/modelLoader'\n\nimport coinModel from 'libs/engines/3d/models/coin.glb'\n\n\nconst coinAmount = 300\nconst ArenaRadius = 300\nconst initialScale = new THREE.Vector3(12, 12, 12)\nconst finalScale = new THREE.Vector3(.1, .1, .1)\n\nvar dummy = new THREE.Object3D()\nvar charachterPos = new THREE.Vector3()\n\n\nconst coinInitialPos = () =>\n  new THREE.Vector3(\n    (Math.random() - .5) * 2 * ArenaRadius * .7,\n    75,\n    (Math.random() - .5) * 2 * ArenaRadius * .7,\n  )\n\n\nexport default class Coins extends transitionHandler {\n  constructor(props) {\n    super(props)\n\n    this.sprites = [\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n    ].map(text => {\n      let sprite = new TextSprite({\n        material: {\n          color: 0xFFFFFF,\n          // fog: false,\n        },\n        redrawInterval: false,\n        textSize: 3,\n        minFontSize: 128,\n        maxFontSize: 128,\n        texture: {\n          // fontFamily: `'RF-Dewi', sans-serif`,\n          // fontWeight: 700,\n          text: text,\n        },  \n      })\n      sprite.position.set(0, ArenaRadius * 2, 0)\n      props.scene.add(sprite)\n    \n      return sprite\n    })\n\n    this.coins = Array\n      .from(\n        {length: coinAmount},\n        (coin, index) => ({\n          index: index,\n          transitionId: undefined,\n          position: coinInitialPos(),\n          scale: initialScale.clone(),\n        })\n      )\n\n    this.loadModel()\n  }\n\n  loadModel = async () => {\n    const coinMesh = (await modelLoader(coinModel)).scene\n\n    this.coinInstance = new THREE.InstancedMesh(coinMesh.children[0].geometry, coinMesh.children[0].material, coinAmount)\n    this.coinInstance.instanceMatrix.setUsage( THREE.DynamicDrawUsage )\n    this.props.scene.add(this.coinInstance)\n\n    const middleOfArray = Math.floor(this.coins.length)\n    for (let i = 0; i < middleOfArray; i++)\n      this.emmitCoin(this.coins[i])\n    \n    setTimeout(() => {\n      for (let i = middleOfArray; i < this.coins.length; i++)\n        this.emmitCoin(this.coins[i])\n    }, 3000)\n  }\n\n  animate = props => {\n    if (!this.coinInstance || !props.units.Character.model)\n      return\n\n    this.animateTransitions()\n\n    charachterPos\n      .copy(props.units.Character.model.position)\n      .setY(props.units.Character.model.position.y + 3)\n\n    this.coins.forEach(coin => {\n      //COLLISION\n      const distance = coin.position.distanceTo(charachterPos)\n\n      if (distance < 5) {\n        var shownSprite = this.sprites[Math.round(Math.random() * (this.sprites.length - 1))]\n        shownSprite.position.copy(charachterPos)\n        shownSprite.position.setY(shownSprite.position.y + 4)\n\n        this.registerTransition({\n          variable: shownSprite.position,\n          value: new THREE.Vector3(shownSprite.position.x, shownSprite.position.y + 3, shownSprite.position.z),\n          numberOfFrames: 25,\n          timingFuntion: 'easeOutQuad',\n          onComplete: () => shownSprite.position.setY(ArenaRadius * 2),\n        })\n\n        this.emmitCoin(coin)\n\n        props.react.addCoin()\n      }\n\n      //FALL AND ROTATION\n      dummy.position.copy(coin.position)\n      dummy.scale.copy(coin.scale)\n      switch ((coin.index) % 3) {\n        case 0:\n          dummy.rotation.x = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n        case 1:\n          dummy.rotation.y = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n        case 2:\n          dummy.rotation.z = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n        default:\n          ;\n      }  \n\n      dummy.updateMatrix()\n      this.coinInstance.setMatrixAt(coin.index, dummy.matrix)\n    })\n    this.coinInstance.instanceMatrix.needsUpdate = true\n  }\n\n\n  emmitCoin = coin => {\n    coin.position.copy(coinInitialPos())\n    coin.scale.copy(initialScale)\n\n    this.unregisterTransition(coin.transitionId)\n\n    coin.transitionId = this.registerTransition({\n      variable: coin.position,\n      value: (new THREE.Vector3()).copy(coin.position).setY(1),\n      numberOfFrames: Math.round((.25 + Math.random()) * 500),\n      onComplete: () => {\n        coin.transitionId = this.registerTransition({\n          variable: coin.scale,\n          value: finalScale,\n          numberOfFrames: 150,\n          timingFuntion: 'easeInQuad',\n          onComplete: () => this.emmitCoin(coin)\n        })\n      }\n    })\n\n    dummy.position.copy(coin.position)\n    dummy.scale.copy(coin.scale)\n    dummy.updateMatrix()\n    this.coinInstance.setMatrixAt(coin.index, dummy.matrix)\n    this.coinInstance.instanceMatrix.needsUpdate = true\n  }\n}\n","import Unit from 'libs/engines/3d/Unit'\n\n\nconst lightDistanceToModel = 5\n\n\nexport default class Lowpoly extends Unit {\n  constructor(props) {\n    super(props)\n\n    const { scene, THREE } = props\n\n    // this.light0 = new THREE.HemisphereLight( 0xffffff, 0x444444, 5.25 )\n    // this.light0.position.set( 0, lightDistanceToModel * 3, 0 )\n    // scene.add( this.light0 )\n\n    // this.light1 = new THREE.HemisphereLight( 0xffffff, 0x444444, 0.95 )\n    // this.light1.position.set( 0, -lightDistanceToModel, 0 )\n    // scene.add( this.light1 )\n    \n    this.light2 = new THREE.DirectionalLight( 0xee55ee, 2.95 )\n    this.light2.position.set( lightDistanceToModel, lightDistanceToModel, 0 )\n    // this.light2.castShadow = true\n    scene.add( this.light2 )\n\n    this.light3 = new THREE.DirectionalLight( 0x77bbee, 2.95 )\n    this.light3.position.set( lightDistanceToModel * Math.cos(Math.PI * 2 / 3), lightDistanceToModel, lightDistanceToModel * Math.sin(Math.PI * 2 / 3) )\n    // this.light3.castShadow = true\n    scene.add( this.light3 )\n\n    this.light4 = new THREE.DirectionalLight( 0x0088ff, 2.95 )\n    this.light4.position.set( lightDistanceToModel * Math.cos(Math.PI * 4 / 3), 3, lightDistanceToModel * Math.sin(Math.PI * 4 / 3) )\n    // this.light4.castShadow = true\n    scene.add( this.light4 )\n  }\n\n  animate = props => {\n    // this.light0.position\n    //   .lerp(props.controls.target, .025)\n    //   .setY(lightDistanceToModel * 3)\n\n    const angle2 = props.frameNumber * 10 / props.maxFrameNumber * Math.PI * 2\n    const angle3 = angle2 + Math.PI * 2 / 3\n    const angle4 = angle3 + Math.PI * 2 / 3\n\n    // this.light0.position\n    //   .set(0, lightDistanceToModel * 2, 0)\n    //   // .add(props.controls.target)\n    this.light2.position\n      .set(lightDistanceToModel * Math.cos(angle2), 5, lightDistanceToModel * Math.sin(angle2))\n      // .add(props.controls.target)\n    this.light3.position\n      .set(lightDistanceToModel * Math.cos(angle3), 5, lightDistanceToModel * Math.sin(angle3))\n      // .add(props.controls.target)\n    this.light4.position\n      .set(lightDistanceToModel * Math.cos(angle4), 5, lightDistanceToModel * Math.sin(angle4))\n      // .add(props.controls.target)\n  }\n\n  dispose = () => {}\n}\n","import Unit from 'libs/engines/3d/Unit'\n\n\nexport default class Fog extends Unit {\n  constructor(props) {\n    super(props)\n\n    const { scene, THREE } = props\n\n    this.fog = new THREE.Fog(0x444444, 35, 155)\n    scene.fog = this.fog\n  }\n\n  animate = props => {}\n  dispose = () => {}\n}\n","export default () => navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)","import isMobile from 'libs/utils/isMobile'\n\n\nexport default () =>\n  isMobile() &&\n  window.matchMedia(\"(orientation: landscape)\").matches &&\n  window.innerWidth <= 1366 && window.innerHeight <= 1024 &&\n  window.innerWidth > window.innerHeight","import React from 'react'\nimport ReactDOMServer from 'react-dom/server'\n\nimport THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport nipplejs from 'nipplejs'\nimport clamp from 'clamp'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\nimport isMobile from 'libs/utils/isMobile'\nimport isLandscape from 'libs/utils/isLandscape'\n\n\nconst moveSpeed = .55\n\nconst yAxis = new THREE.Vector3(0, 1, 0)\n\nconst initialThis = {\n  mouse: {\n    alphaX: 0,\n    alphaY: 0,\n  },\n\n  space: false,\n\n  moveSpeed: moveSpeed / .06,\n  move: new THREE.Vector3(),\n  moveFlags: {\n    up: [\n      {\n        code: 87,\n        pressed: false,\n      },\n      {\n        code: 38,\n        pressed: false,\n      }\n    ],\n    down: [\n      {\n        code: 83,\n        pressed: false,\n      },\n      {\n        code: 40,\n        pressed: false,\n      }\n    ],\n    left: [\n      {\n        code: 68,\n        pressed: false,\n      },\n      {\n        code: 39,\n        pressed: false,\n      }\n    ],\n    right: [\n      {\n        code: 65,\n        pressed: false,\n      },\n      {\n        code: 37,\n        pressed: false,\n      }\n    ],\n  }\n}\n\n\nexport default class Controls extends Unit {\n  constructor(props) {\n    super(props)\n\n    Object.keys(initialThis)\n      .forEach(key => this[key] = initialThis[key])\n\n    if (isTouchDevice()) {  \n      ;\n    }\n    else {\n      window.addEventListener('mousemove', this.handleMouseMove, false)\n      window.addEventListener('keydown', this.handleKeyDown, false)\n      window.addEventListener('keyup', this.handleKeyUp, false)\n    }\n\n    window.addEventListener('resize', () => {\n      this.joystickManager && this.joystickManager.destroy && this.joystickManager.destroy()\n      this.addJoystick()\n    })\n    window.addEventListener('orientationchange', () => {\n      this.joystickManager && this.joystickManager.destroy && this.joystickManager.destroy()\n      this.addJoystick()\n    })\n  }\n\n  addJoystick = () => {\n    const zoneJoystick = document.getElementById('zone-joystick')\n    var options = {\n      zone: zoneJoystick,\n      mode: 'static',\n      position: {\n        x: isLandscape() ?\n          Math.round(window.innerWidth < 667 ? window.innerWidth / 4 : window.innerWidth / 6)\n          :\n          Math.round(window.innerWidth < 667 ? window.innerWidth / 4 * 3 : window.innerWidth / 6 * 5),\n        y: isLandscape() ?\n          Math.round(window.innerHeight / 5 * 4)\n          :\n          Math.round(window.innerHeight / 7 * 6),\n      },\n      size: window.innerWidth < 768 ? 80 : 100,\n    }\n    \n    this.joystickManager = nipplejs.create(options)\n\n    this.joystickManager[0].on('move', (e, data) => {\n      // this.move.set(-data.force / 7, 0, 0)\n      this.move.set(-moveSpeed, 0, 0)\n        .applyAxisAngle(yAxis, data.angle.radian)\n    })\n    this.joystickManager[0].on('end', e => {\n      this.move.set(0, 0, 0)\n    })\n  }\n\n  addSpaceButton = () => {\n    const renderSoundButton = () => (\n      <div\n        id=\"space-button\"\n        className=\"space-button\"\n      >\n        space\n      </div>\n    )  \n\n    document.body\n      .insertAdjacentHTML('beforeend',\n        ReactDOMServer.renderToString(\n          renderSoundButton()))\n\n    document.getElementById(\"space-button\")\n      .addEventListener(\"touchstart\", e =>\n        this.space = true)\n    document.getElementById(\"space-button\")\n      .addEventListener(\"touchend\", e =>\n        this.space = false)\n  }\n\n  init = () => {    \n    if (isMobile()) {\n      this.addJoystick()\n      this.addSpaceButton()\n    }\n  }\n\n  animate = props => {\n    const getDirectionState = direction =>\n      direction\n        .map(key => key.pressed)\n        .reduce((a, b) => a || b)\n      ? 1 : 0\n\n    if (!isTouchDevice())\n      this.move\n        .set(\n          getDirectionState(this.moveFlags.right) - getDirectionState(this.moveFlags.left),\n          0,\n          getDirectionState(this.moveFlags.up) - getDirectionState(this.moveFlags.down))\n        .normalize()\n        .multiplyScalar(moveSpeed)\n  }\n\n  \n  handleMouseMove = e => {\n    if (!e.pageX || !e.pageY) {\n      console.log(\"no mouse found\")\n      return\n    }\n  \n    this.mouse.alphaX = -clamp(e.pageX / window.innerWidth - .5, -.5, .5)\n    this.mouse.alphaY = clamp(e.pageY / window.innerHeight - .5, -.5, .5)\n  }\n\n  handleKeyDown = e => {\n    Object.keys(this.moveFlags)\n      .forEach(direction =>\n        this.moveFlags[direction]\n          .forEach(key =>\n            key.pressed |= (key.code === e.keyCode)))\n\n    if (e.keyCode === 32)\n      this.space = true\n  }\n\n  handleKeyUp = e => {\n    Object.keys(this.moveFlags)\n      .forEach(direction =>\n        this.moveFlags[direction]\n          .forEach(key =>\n            key.pressed &= !(key.code === e.keyCode)))\n\n    if (e.keyCode === 32)\n      this.space = false\n  }\n\n\n  dispose = () => {\n    if (isTouchDevice())\n      ;\n    else\n      window.removeEventListener('mousemove', this.handleMouseMove, false)\n  }\n}\n","// import { UnrealBloomPass } from './customUnrealBloomPass'\nimport { BloomEffect, EffectPass } from 'postprocessing'\nimport Unit from 'libs/engines/3d/Unit'\n\n\nexport default class BloomPostprocessing extends Unit {\n  constructor(props) {\n    super(props)\n\n    const {\n      camera,\n      composer,\n    } = props\n\n    this.bloom = new BloomEffect()\n    //   \n    this.bloom.intensity = 1\n\n    this.pass = new EffectPass(camera, this.bloom)\n    composer.addPass(this.pass)\n  }\n\n  animate = props => {}\n  dispose = () => {}\n}\n","const maxCoins = 555\nconst coinCodes = [\n  'M0eimJAl3vwA5i1EWyaa','e13ashu5I1N0v5ekeNTb','ynArayoNe2n4YU7m0Iv','m06IlnyyS0MnoYu7eg','bjan3Tpr061eMd0N3dd','E1kip0k4n3R3SHilPoe','k4p0i9R4twg1yaDe1Ke','IhOzhuna7u5owKiO7kzh','i5aJUch3r7Owski7eBez','luCHshEne2n4tmo3IdOi','Zir0vKi7o5V3rhs0zb4','n4niE7O06ychNyyfrAb13','k7A1s7ePans4I7yrlbw','y2a9onYA7D0k0n4lprb9','Iwe7Mus0r4priwE7mbd','U5oraDamN3N3vpeRvb3','oYR3sh4T7aKi3d3l4Tb3','ypOYm3shMoyYUmOrn0ubzh','vyn3S3ichA5z4sh3lwnb2','e9i1I5t0v2atsEnIwybi','SH3lnoWYym3M4s1eWvv4','A5i1ewLJU6itWa5VySHv13','e1N0vyiMEma5L3vWavw','siL3v1yu13I7v4sWyshEv9','lnoWYyyawzBEru5P0lvd','E5tnITSeiakOWako9dv3','aIs7eCHE7p0dPI5k4Ov3','n3Vye2D3vierU5a1ivzh','M3s7ena2Apl4k4N4nv2','oItuD4swOIm3myYA013vi','YA2A7e1n0vYV3dud0Kg4','iNzIkhiTchenSUk4zhuTg13','puTiS7iNnyi9D3n3zgw','aklJUyu7n363snY3p7ig9','tsyikO9D4yaDo6yu5N4kgd','OnetsaMnIs7Iio7SKag3','nIruyukO9Oni6udi2Zg3','a9R4nitsYl3vwA5i1Egzh','v1yuBi7v4SwYshe1n0vg2','yytwOjat3lKa7echE7ogi','Tmo3g0frakAwSjazhIzd4','nKsjach3Mpi0nPoFr4Gd13','AmK4zhdyYvys7R3Lhedw','dSHoP133zfAkapaJAt0chd9','n0ZnAjuch7oWnutrI7Vdd','O3g0s3v3n4P4vpe7ed3','r13urG3P0v5yuDumoiOd3','brA2yMoIs7a7Uis7odzh','ya7v2apR3Tnomg0r0dd2','EmoyLikNa9erb3I3rdi','U5a1iMajaK0R0l1eWze4','oWImenYA5iM134l3vwAe13','siL3v1yu13i7V4Swysheew','lnoWYym3M4s1eWapre9','o5ti134nysNimZ4Med','AshnilNOjan3N4rKoFoe3','B7yne7AKp0nJAlwS3Ee3','t061efv5Eet0B1eFvezh','s3E7oway67yra26iLe2','m0e5Erd3chKOkakTwoei','Era213Il4viT4t0lKoe4','pRawd4Vet0iPE5n3Ne13','akOnetsBUd3trA5kryew','T4n0yapl4CHuv7uPOdue9','shKu9D3l3ZH4t7v0I7aed','B1E7kIn3m0GusdeRZHe3','a7eMotsTyv3DPonie3','m4EshE7o5l0vNOmemyezh','vni9i1i5T4khmENyamae2','njat7V0IreCHino5L0vei','A5m3r7n4rkOfo13AMzhzh4','gUt5i1N3E5o7nip3CHzh13','ekVzhi2nIv5yakO36yVzhw','a3t9l4vnO3CH7o13l3vzh9','ajuz4Ljak0n3chNonEwazhd','CH3ginNopopR0Buyu5tzh3','a7luchshEnark0f06yVzh3','YwS3mra2ibo1SH3Vzhzh','aMn3v3rjuYA2a1v4uBizh2','l13YwS3khwa5d4zh3DmIzhi','TreNt3oetuP3snyuz4','pUs7U5Lysh4tDazheuSHz13','idErtIm0nkachT06zhazw','l3lPo7OmOnsilNochtz9','Oda1Z4dNyuJUk4k7E1kzd','A1ewaPr0S7I6any5nz3','iMZ4m4SHni1n0yanez3','n4RKofo13tyN3T4kpozzh','njalWS3e7Obl3fWs3ez2','t061EFv5eEt0V4Ibizi','OudneWN4yapAraSHaNai4','SWya2i5OWm3s7nyIbLi13','ya7Trekn4SH3g0L3iBliw','akAKv5e9D4e6a1iwSi9','ewaSHIrtynUSCH4swY5oid','B5twENn0e7OIu5lYshi3','i7edo1B0ebyPOshliNi3','ahUydnEWn4yapARashaizh','SnoWa3b3Trtyv4SHini2','o13e2S4shi6YlrepS3gii','OdNjasIlno0SH4r4sh3Nb4a','mIkh4i1M4v4SHIs7a1Nb46','emOdEnsKazheMSpr0sb4v','i1iPi2d460lyN3d0kb4g','azhemZwUchi7g0rDOweb4d','Dne2rJAv9l4Z4khnATSfb4e','aJAp0s1EdUdkIpyl4Eb4e','tkR4snaJAz4rjaOuekLb4zh','eyk4kws3GdAkaKv5eb4z','gdanAwy5o7eKt0T0db4i','U3tshm4lkt0T0P0r0shb13a','oKakt0GdemaReKn4Rb136','IkSmejalIspatsAnYwdb13v','e7s7v3khuLitutWeSCHib13g','miS7A1i7eKs7ywEdVb13d','S3zh3p0mnya7T0m3s7ob13e','gDewDwE7y5yaCHi5edMb13e','omP0pIv4yajaguArz4sb13zh','s4nYm9ArAzhoms0zdab13z','V4liSpeRvYehi7Ynab13i','K0l3nKe4N4S7enk313bwa','y1AnadPisMaSHashljuKHbw6','a7Y5eych4swT0ZH3vrebwv','mjas7EpauEha1n4r0dbwg','n0ikAWk4zNadDnEwnbwd','Oyp4r4SH3i5KH0dIt5yabwe','TUm4n1I13o7yRu5SkIbwe','i1Iboue13AnyapO5t4vbwzh','i1SWezhn0V3nkiYkbwz','apk4NityvNE9opOpabwi','LnashR3pchikZ4zwuCHab9a','lWtwo3Isht4nIN3k4Kb96','ahA7v0YA7e1k4N4t4khb9v','A5m3suz13Ekaik4Z4khb9g','aJAp0CH3s4LWr4i0N3pb9d','AhAnuCHepaHAnk7oWTb9e','e9eRanAkt0TUp0p0Gb9e','orAmE5lItygURmanob9zh','tweDaYm0YUpodLIvuob9z','n4s1AdK4yaKakm4Linb9i','Akaksh0k0l4DnajaP0dbda','lIv4mmMchM0kCHm0k7Ybd6','n3Vid3lNaCHt0MyspObdv','s06NykakL3NjadIg0rbdg','inty133spl0d3npOkubdd','SH4imoIsukh4RiKit313bde','yaPoym4LivpaDiKe7Vbde','Oja64134vPari1K3I1ibdzh','vPaRikeuN4s7u7k0mbdz','muNiZmrwe7sjavkO5Mbdi','O5oNt4kzhe3133t5yaWpb3a','oPp3S0NpediKpryachEb36','t0N0tNa5v4r3Nikkeb3v','dyp0chiS7I1vpoNedeb3g','LnikV4sh13oHpid0R4sb3d','ONdik0brA2133zig1yab3e','p3Rnu1N4i9i1liznUb3e','lkO1ts0s4urOnApocheb3zh','s4l0Z0n4P0ts3l0v4lb3z','g4ndONajavRo7E13A1tb3i','V0yuma7PrduN4sRub3a','EYn4grUDyaneHochU3Eb36','e13A7luchSHEmochIpoYtb3v','ihL313nu7G0vnoWkuSb3g','n3i3E5tryaPNiapUklb3d','Uchsh3ZWuchi7CH3m9o1ob3e','sEt0iHU3r9iPOydiIb3e','e13NieySNo9ichISHkb3zh','Ikr0lik4VkamySHAhpb3z','aSHahP4sh0K3mus7R4shb3i','N0SidItche9O7ozhd3Tbzha','oNn3z4M3tiLNiche9Obzh6','v0KrU9n0vdrUGminubzhv','t4m0lCHanZH0r4B3rbzhg','e7vrO7RifMykaKUbobzhd','G4p3rDaNu1N3mnO9obzhe','n4okn0M5N3gJAo5k4Abzhe','a4AuajarUs5kchE1obzhzh','v3kUmnyamN0G0z460tbzhz','sizhuD0m4pJUk0mpO7pbzhi','Oka7v0e9odEdAmoYpb2a','r4d3d3B3twr0tYouIb26','OuI0uws3okeyN4Mikb2v','r0k1eyg0V0rit3n313b2g','y5TrEysjud4tutwS3Mb2d','PizDa5ljud4D3l0d0rb2e','o9o3I2Z4n3eMypohOb2e','r0NimPoMnjuk0N3chnob2zh','ows3khnAshIhe7oRepib2z','Z13a1AshiHa2d3s9Anzhb2i','A4a4a4a13LjaTzhoraBlbia','eWA7uzhEus7a1uzheuSbi6','t4L2a3b3l2A3B4tbibiv','tyv5EnakA2aNtIpwdbig','rugpO9n4lIsmE1Onabid','Kuril5YA5enOmiDlJAvbie','A5r4s7ORg4lUluPyPbie','oKA2a1z4LupuE0o0obizh','o0OBn4vpI5k3k4k9Abiz','rigUDinip4Ruf0Kusbii','OwofORmilpERedeRnv4a','u1pipID0n2d3SpriTv46','onA9d3ANt0n9D3z4pv4v','A5n0iwaRIkv0dKI5tv4g','oParIkkh1OPnuv4RIkv4d','CH7Obn4v3rNYAkaizWAv4e','rIkIzmAkakAKajam4Kv4e','akAkAkaIl3t3Lna5av4zh','m0l3t3k0T0ryIRa213v4z','i1sjaVrOdePi2d3TSpov4i','S3lil5ya5e7O9o0DNiv13a','mMe5t0MjaV7e5t0kIDv136','ajuSHishkiNeNawIzhuwSv13v','pyshKiib0LshE1yu13ljuvv13g','pizdUma1ySHk3v7Rusv13d','Iki7yPu9a1O6LjatCHtv13e','o5o2vuK0mra2o13r4Lv13e','SjaV1ups3nud0PuS7iv13zh','mNa5opu5Tilin4rUsv13z','i7YpO5o5iDepe5OrYAv13i','Net0d4zh3n3Ade9r4uvwa','nDe7O4NderaNd3r9Rvw6','auNde5lIvrepEkrutvwv','t0tKt0N3P0pulJAr3nvwg','T0gdEmoYo5o6njaKimvwd','OJAfir4rwErNul5yavwe','vYUpa1InaKo1enikOvwe','r0LJUrep4p0RtsG0tvwzh','owaPOdkh0Dit3n4k0rvwz','m1yu5LYsh4l7u7UwA5ovwi','K5anaPOwerNul4rEpv9a','I9ruyanAZHmui9r4T5Nv96','aCHA1aio13R4tnOra2vv9v','erNUtyn3P0njalMoiKHv9g','treKOwtip0ZHutiSmyv9d','S1anO1m0emU2v0nI13v9e','aRy9e0NpokaZHE7vchEv9e','m5O1skO1k0m0ZHNopev9zh','Tpr0kri2I5ira5Skav9z','zYv4Tpr060lpo5TMov9i','D3Rni2k4zhDOydyrKIvda','nIgIliS7k4ZHDyyv7Ovd6','r0IeT0d4zh3n3Ade9rvdv','aunDe7o4NderANd3rvdg','grauNdE5lIvrePEkrvdd','U7t0tKt0n3P0puLJArvde','eNt0gdEmOyo5o13nJAKvde','imOjafir4rIrePindUvdzh','s7rKrug4D4T3k5tvdz','adljaE1i7yIzDe7Skovdi','G0s4d4b1ekS7Ard1yav3a','ch3g0t0O7kry1iMakDv36','AkN3t0lKoikh7EkS7yv3v','t3p3riz9Own4v1v4nv3g','e5TuD3n7k4g3r0YAiSv3d','K4l4ch3l0v3K4i2s7av3e','lIt0LkOizka1ana9Ov3e','r0DneCHaJAnnomIronnv3zh','a5tUpiLnO9oroDprov3z','S7i1Mir0nZHede13I1pv3i','I7a3t5yahAyP0m5vInv3a','oMA7k4E7oNoYzili13v36','a5T4v0tWch3M2A9adkv3v','any7Iklju6it4s4ietv3g','o3g0P3n7a1giNjaVrev3d','P3n4sILnikZ4v0dNov3e','I4p3l5INumnYmiF4Nv3e','a7Amihv4S7ajuS1iSHyav3zh','uwS3khshk0L0t4n4m3Nv3z','yadoKT0r4p4RnichI7av3i','YU7prOPr4vdUUlitsDivzha','a9n0zPR0s7oNI364Nvzh6','u1I5prAWd4odN4k4kvzhv','N3kRu7iWOdk4b3Z7rvzhg','aWydEnb3Z1yu6viE7ovzhd','D4ZH3n3ade9R4undETvzhe','o4nDerAnd3R9r4unDvzhe','e5LiVrePekrUT7o7kvzhzh','t0n3p0puLjar3N9d3mvzhz','oyo5O6NjakIm0yaFIravzhi','Rpr0e6a1swOjuzhiZv2a','nImnepOnR4vIl0sJASv26','o7V0rilKuCHu2L4d013v2v','r0n3spr4ViL0sJAu7ov2g','pildV3s0tNiKo7YA7ov2d','Nim3sh4limnEwYpl3sv2e','nUya5v0YU2l0s7n4n0Vv2e','OmAnd3r3mne7YAzhE1ov2zh','d3rZHa7v5Ews3b3s0khv2z','r4NjaTpokoYyakazhDyIv2i','D3nWeDu13or13us5aMivia','m5obOyG4rmoNeffvi6','ekTivNo5tpr0Duk7iviv','vno5tkR0Vip0tRohavig','KipiK0t3lKipimOygvid','N3v9oRi9OrI9orshvie','lJUKHusnYA1n0n3d1ya7Ovie','g0CH7o6vYebA7YAwzjalvizh','kirPIchidU3eJAu13iwaviz','tmn3N4p1eWa7N4Ljudvii','Eyz4vIDuyu7Pus7yaRag4a','Z36ueyB0shkuIo7PuSg46','tIT9rus7E5liUwiZHug4v','twOYn3z4SCHIsch3nNyySg4g','eks7Opr3kRA7i7E9og4d','TwojaSPartnERomsMeg4e','r76ud3T13o1n0O13eschAg4e','yujaR4spORyu7v0E13rjukhg4zh','Orzh4v0i0TwertKOyrg4z','a2ebU7v0E1itso7EByag4i','N4Idu7z4p0M0ikoY13g13a','uDeSHsrA7sjaP0d5ebYAg136','imO1I7oPoschaDEnoneg13v','spa5e7t36jao7MUkdag13g','zh3adAmL4mBert3V9eg13d','Nko5t2a13e2Opa5Ng13e','o5tkazhDyImoYtreKZg13e','l0E2aklJAt3niK7onEg13zh','p0iMe7ch7OuZH3z4k0lg13z','d0v4NkrichIt3ipL4chg13i','T3v3dEt0krA5IwoKrgwa','iCHi7eiP1acht3d4v4YAgw6','MnE5i1uMeshajuKHuInyugwv','i2oBryv0Vmecht4ngwg','t36jaK4kws3gdapOdVgwd','Ede7tWoyp0Dsht4nNigwe','k0tkR0Iwswo3m5erDgwe','ts3D1yaDeMonadV3rtsugwzh','t363v3DhU3v0p0k4tgwz','YwokOwaHeWg3nkOgwi','S7zna3tchT0Znachi7sg9a','v060d4P0ch7iUzh9o7Og96','v0D0134v7o1K0V0duog9v','p3r4TivnY3r4b0typg9g','oel3K7r0u5trOyS7vg9d','Amd1yaPR0grE5sIvNog9e','INf4n7I1n0iMo1OdEg9e','zhISra5s7R0i5TwoMng9zh','apODs0znA7e1n0s0Zg9z','n4t3Lnoyp0DkorK3mg9i','O2g0VWt3a7R3l4mPogda','chKibe5P1a7n0YAchinIgd6','tnE9o7OWn3d1YA7o9ogdv','TSwe1amoJASH4lnaJAR0zgdg','aWe7R0v7YUe6anTYggdd','OwN0lIz364L7v0iKOgde','zhNyYp0KrowM0chit1YUgde','d3ImOchoYinyuHA7z4tgdzh','v3rDeWshnA5v4I1igdz','sh7emP0KH0zhIp0g0Dimgdi','O1chin3p3r313iv4I5og3a','sTSeny5UchK4p4d1a7Yg36','r3SHilna13i7sjaVdruZg3v','yakaK13ud7OpR0s7o2ag3g','r460Tuz4p1a7i7Mneg3d','N3l2yaNedljaT0G0yaKag3e','zhDyym3SjatsblJAn4l0Gg3e','IpL4chui2z4l4CH7Obsg3zh','m0tRe7k4K7r4khNeSHtg3z','ykO5TjumpiKachujaV3Sg3i','O13mJAkMoyv2Orupa1yag3a','vMe5T3Snimn4div4Ng36','spEkt4k1ishl4Kjasnag3v','fflJU131YUkR0v4vYi9rg3g','E13anYysNaFf3s1Iuvg3d','IZHukaKtyV7E4treIgg3e','r4Eshya0T0rWu7e13erUg3e','ki6UduiMihL0P4tikg3zh','rich4Tcht0V3rJUv3rjuvg3z','snafFDajazh3s7OkEwgg3i','Enk0s7S3r9EypRogzha','S7iwprYAMvidNochTgzh6','o7Opopu7A1uwL3k5yagzhv','swOBodojuS1owaWs3Ggzhg','onaMInu7uWG0l0Vusgzhd','Tre1NUluspEHschegzhe','g0t0vDRugreSHI1ch7Ogzhe','vnI9i1I5typ0P4d4yugzhzh','TmeMypr0V5ehpRO5tgzhz','dUm4LmozhN0pro5Tgzhi','OpO5tItpeENniko9Dg2a','aNeBy1V7akOMg1ubOg26','k0M2A6lUzhdeNIisdvg2v','gshn0g0s0TSiofO13anig2g','k7onEpR3dUpreDI1chg2d','T0d3l4tMemYmozhN0tg2e','o1k0s7V0E9oRa2r3SHg2e','enKiril1pRo5Tiyag2zh','bylNepr4VwS3e7i9og2z','dyv3Djapid0r0mnA2vg2i','A1s0v5emn3T0G0uRogia','d4l4dnOdv4dTSa7k4Tgi6','Y0S7aws363n3KiSnigiv','t0lId3l0O7zhim4tPagig','b1O5Ymo3iZHi2niS3Rgid','G3iPoSCHadinAshudrUzhgie','bUonAdAnanaMswyshEgie','d4ZH3dYmSHitsihV4lkogizh','v0n4shiKHpAblik4kh5lgiz','Ysha1IweDya1yu6i1T313gii','YAEn4kIn1YUbI1k4kMld4a','aDSH3g0Bra7aNo7y7Od46','piSHMenyaKakV5M0l3nd4v','k3l0P4tuPro5tIm3nd4g','ya5erG3ijap0njaLjaAutd4d','I5t2aPO5tiVwaSHu3ld4e','DUvidiM0yaby1n3PrAd4e','vNOws3r4VnowEdoNnd4zh','e5M0zh3tmN3z4pRe7Id4z','tde1A7t0ch7O1yu13Ljutd4i','R3v0ZHNyhljuD3i2a9od13a','nJAtniKI7inuKUrokPd136','o5Lush4I5yudarA2ebad13v','Lwf0t0sh0P3u6yuNAbid13g','t4kh7YnyuhA1sii5U5ad13d','N4K4zh3t4l1Ahb46ULd13e','yaRePo5Tne7VKont4Kd13e','t3TwOyp4khwl3T4yu5nd13zh','o9iNaWpiSkunIKi7id13z','n4v5EkRich4twoUV0ud13i','N4smeMy06iD3liVIedwa','rUs4liM3S7eNa2aPLdw6','akAnanoItUd4Z4p0Sdwv','tjatKakyanIkI7iNawydwg','e13uuLybka0133b0S4idwd','V2g1yaDautiS7Aws3tdwe','v0ipanCHi6ylIm3myZdwe','A7Ris7aNo5emN4Dtsadwzh','tYi9odidEpr3s5gdwz','rjaNuL4tys7a1n3SmIdwi','YAnkKoNtsur0D4r0m4nd9a','oWyhT3P3r5eRezhanId96','kiTin1i13era1I2mprd9v','oroCHi7P0K4s3r9eynd9g','Iki7Inn3p1a7i7R413d9d','OCHimkRichI7Propo1id9e','tIKukhrUpkPoDr0sd9e','t0K7ykaNdiD4Tra2vd9zh','echt0VparTiyuRo5t4kd9z','i5grAFn3n0ukArA5sd9i','Tre1ya7P0s7S0s7eNkdda','I2abanLUchshe1y5InUdd6','s3R9eylYS3nkOchi5lddv','ishSJAs7udENt0mWyshKddg','i7yUCH0nyi5T0puD0vddd','N0ya3V9enp0N4s3ndde','k0v7yPR0f3s5Ors0Kdde','o1Owl4DNois7ORiktddzh','Y5k4z4lCHT0tyr3P3rddz','uZHi7V0bschE5twe1AYkddi','OwK4kUv5eHTwoikh7Rd3a','eKoWch7Ojas1USHajus3Gd36','odNjaT0chNoneNIki7id3v','n4p0s7awT3mnE1aykd3g','k1yanCHiT5eRezhaROdid3d','T3l3iWlJU60M5v0EMtd3e','r3k3tyZ0V3shMamu5Pd3e','apOyihlJU60vnEdo5Td3zh','upn3ichemTyE6a1m0yud3z','m4tnE7f4t4lNo5Putd3i','A1lwoWyadorOzhK4m3td3a','aDona4Tytim4sh3s7Ed36','RnEwnigIlis7YiKrod3v','v4tKaws7Anu7v0ch3rd3g','edK9R0bun0n3z4T3Md3d','CH7oBts3l0v4T7e13yaWld3e','o13ikAchT06pr0sh3p7Ad3e','t7EbePrJAm0n4Uho5id3zh','r0zh4i5T0RnenaUkd3z','A7yeT0s7aRichok63rd3i','E9i5e6yanEbO1eyyaPodzha','k4N4swOygRaFm0ihUdzh6','iiTWoyr0tdO6Awljusdzhv','p0n5Ore7O9oRo1ikadzhg','s4i7KIs5tIr3GrAftdzhd','Ochk4k0Mne2A6yWaYtdzhe','EKormiTNouchNo9O2Vdzhe','eRYApodpISyv4I7e5ndzhzh','apABl3kiV5eni9i1Idzhz','s7yPOpadaJUTwr3Iwsdzhi','P4si130m0emU9o5tRad2a','i7eruDImeutKInukSd26','t4Tizh3NJAk4zh4R5kd2v','GdeMojapJATikh4tKA5md2g','eRtnArk0F0134mnICHed2d','G0N3t9o1o5Uyvy6IRd2e','aYvUrnU13yu1L3t3nbRd2e','o5AyAyaY6ud3Tdr4id2zh','vks7a7i7U7133SPl4td2z','nyichAyG0l0suiWYbid2i','R4iwuRnU6juL1e7EN13dia','r0s4i4I4IbuDe7dRAdi6','iwM5130kh4n4n7IhayPdiv','g0l0suiwYbIraYvurdig','nu6juL1e7eN13Ro5Ayadid','I4ibuDe7drAyVks7adie','tItut6E5p1a7nYichAdie','I9O1o5uYvy13iR4Iwudizh','rNuByu1l3T3n6r0s4idiz','ayAy13ud3tDr4iwM513dii','OhaNaNtikh4Ipm4r7ae4a','vY6iR4Emn4sh3z4v7Re46','a2N4eSHe7one2Ashkwae4v','rno7y5K4ZHich7oJAproe4g','D4l5YA3s1i3s7idInae4d','UCHa5t0kiN3N4d0d3me4e','oNS7r4TSitUpYkh0te4e','m4Z0kwy13orYwY13orye4zh','k4nDIda7Y1iDeRymae4z','r7apRIkh0dIt3V5Enae4i','R3iwvYB0ryVyb0rYke13a','ANdid4TYlid3ryPrOe136','s7O5t4vISH9a1OchkUae13v','vpODarokS7ikeRybOe13g','iko7D1ya1oHOwoyOyoe13d','I0ibOYk0tdLJAl0kh0ve13e','g0l0sUI5o5tRAnoyYAe13e','p4R3nhO7kud4UMenyae13zh','Mno9odeWCH0n0k13Udee13z','sh2a9Onya7M0lwy13ORye13i','NiPriCHemtUT2a13a5Tewa','oWk4e7O0t5T0inouNew6','a5E5T7e1kiiPU7innewv','a13i1130rdE2a6A5t0vewg','k4e7O0T5t0ino5V4mewd','ImsboHaNz4ZHig4EMmewe','oSCHn0g0L0SuiWy13iRAewe','iwUrnubJUl1e7En6rOewzh','s4i4i4i13UdE7dRayvewz','k5t4TitutBe5p1A7newi','Yych4i9o1o5UyVy6Ire9a','aYvurnU13yu1l3t3nbRe96','O5AyayaY6ud3TdR4ie9v','vMsBohanAntikh4iPge9g','o1O5Uyvy6Ir4iwUrNe9d','U13yu1l3t3nbR0s4i4ie9e','aY6uD3Tdr4iWk5t4Te9e','i7U7133sPl4tnYych4ie9zh','g0l0suIwYbiraYvure9z','Nu6juL1e7eN13ro5Ayae9i','I4ibuDe7DrAyvmsBoeda','kh4N4n7IhaYp9o1o5Ued6','i2AKo9oHochEshTutkaedv','zhdyYG0l0SreSHa3t3sedg','lii5P0r7iSHliS7Ocheedd','KpareNTyprO5t0n3shede','ARishn3L3nisKi5I1Iede','bUD3tdi5SjarySjup013edzh','e9UNawy13ORy6y5trOedz','yanePU7ini5Tie5Litedi','OzhehOCHeshi2M3nitCHte3a','o7o9o1O5uyz4YAwliNe36','skO9ouM3njav7EKs7ae3v','KHwoDaiz2Aksjush3Nkie3g','s06chAkz4N3epr0G0le3d','O5Uye5litYCHis7oPOe3e','rZHa7idAzhe3S1i9o5Ue3e'\n]\n\n\nexport {\n  maxCoins,\n  coinCodes,\n}","export default str => {\n  const el = document.createElement('textarea')\n  el.value = str\n  document.body.appendChild(el)\n  el.select()\n  document.execCommand('copy')\n  document.body.removeChild(el)\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport {\n  TelegramShareButton,\n  VKShareButton,\n  FacebookShareButton,\n  TwitterShareButton,\n} from 'react-share'\n\nimport { coinCodes, maxCoins } from 'libs/utils/coinCodes'\nimport copyToClipboard from 'libs/utils/copyToClipboard'\n\nimport shareIcon from 'img/share.svg'\n\n\nexport default class CoinsCollected extends React.Component {\n  state = {\n    showShare: false,\n    copied: false,\n  }\n\n  renderSharePanel = () => {\n    const coinsCollected = Math.min(this.props.number, maxCoins)\n    const coinsCollectedCode = coinCodes[coinsCollected]\n    const url = `https://apollonia.today/ubi/?${coinsCollectedCode}`\n    const shortUrl = `apollonia.today/ubi/?${coinsCollectedCode}`\n\n    return (\n      <div className=\"coins-collected__share\">\n        <div\n          className=\"coins-collected__share__background\"\n          onClick={() => this.setState({showShare: false})}\n        />\n        <div className=\"coins-collected__share__panel\">\n          <div\n            className=\"coins-collected__share__panel__h1\"\n            onClick={() => {\n              copyToClipboard(url)\n              this.setState({copied: true})\n              setTimeout(() => this.setState({copied: false}), 2000)\n            }}\n          >\n            {this.state.copied ? \"\" : \"\"}\n          </div>\n          <img\n            className=\"coins-collected__share__panel__img\"\n            alt={`og:image ${coinsCollected}.png`}\n            src={`https://apollonia.today/ubi/og-images/${coinsCollected}.png`}\n          />\n          <div className=\"coins-collected__share__panel__social\">\n            <TwitterShareButton url={shortUrl}>\n              t\n            </TwitterShareButton>\n            <VKShareButton url={url}>\n              vk\n            </VKShareButton>\n            <FacebookShareButton url={url.replace('ubi/?', 'ubi/')}>\n              fb\n            </FacebookShareButton>\n            <TelegramShareButton url={url}>\n              tlg\n            </TelegramShareButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render = () =>\n    <>\n      <div\n        className=\"coins-collected\"\n        onClick={() => this.setState({showShare: true})}\n      >\n        <div className=\"coins-collected__coin\" />\n\n        <div className=\"coins-collected__number\">\n          {this.props.number}\n        </div>\n\n        <button className=\"coins-collected__share-button\">\n          <img alt=\"share\" src={shareIcon} />\n        </button>\n      </div>\n\n      {this.state.showShare &&\n        ReactDOM.createPortal(\n          this.renderSharePanel(),\n          document.body)}\n    </>\n}","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport Scene from 'libs/engines/3d/Scene'\nimport Character from 'libs/engines/3d/units/Character'\nimport Landscape from 'libs/engines/3d/units/Landscape'\nimport Coins from 'libs/engines/3d/units/Coins'\nimport Lights from 'libs/engines/3d/units/Lights'\nimport Fog from 'libs/engines/3d/units/Fog'\nimport Controls from 'libs/engines/3d/units/Controls'\n// import VignettePostprocessing from 'libs/engines/3d/units/VignettePostprocessing'\n// import FilmGrainPostprocessing from 'libs/engines/3d/units/FilmGrainPostprocessing'\nimport BloomPostprocessing from 'libs/engines/3d/units/BloomPostprocessing'\n// import EasterEgg from 'libs/engines/3d/units/EasterEgg'\n\nimport CoinsCollected from 'components/CoinsCollected'\n\n\nexport default class ThreeScene extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      coinsCollected: 0,\n    }\n\n    this.viewerRef = new React.createRef()\n\n    this.scene = new Scene({\n      react: {\n        addCoin: () => this.setState({coinsCollected: this.state.coinsCollected + 1})\n      },\n      units: {\n        Character: {\n          unit: Character,\n          disabled: false,\n        },\n        Landscape: {\n          unit: Landscape,\n          disabled: false,\n        },\n        Coins: {\n          unit: Coins,\n          disabled: false,\n        },\n        Lights: {\n          unit: Lights,\n          disabled: false,\n        },\n        Fog: {\n          unit: Fog,\n          disabled: false,\n        },\n        Controls: {\n          unit: Controls,\n          disabled: false,\n        },\n        // FilmGrainPostprocessing: {\n        //   unit: FilmGrainPostprocessing,\n        //   disabled: false,\n        // },\n        BloomPostprocessing: {\n          unit: BloomPostprocessing,\n          disabled: false,\n        },\n        // VignettePostprocessing: {\n        //   unit: VignettePostprocessing,\n        //   disabled: false,\n        // },\n        // EasterEgg: {\n        //   unit: EasterEgg,\n        //   disabled: false,\n        // },\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.resizeObs = new ResizeObserver(this.resize.bind(this))\n      .observe(this.viewerRef.current)\n\n    this.scene.init(this.viewerRef.current)\n  }\n\n  componentWillUnmount = () => {\n    this.scene.dispose()\n    // this.viewerRef.removeChild(this.renderer.domElement)\n  }\n\n  resize() {\n    const ViewerDiv = this.viewerRef && this.viewerRef.current\n    \n    if (!ViewerDiv)\n      return\n\n    this.scene.resize(ViewerDiv.clientWidth, ViewerDiv.clientHeight)\n  }\n\n  render = () =>\n    <div\n      className=\"Viewer\"\n      ref={this.viewerRef}\n    >\n      {ReactDOM.createPortal(\n        <CoinsCollected number={this.state.coinsCollected} />,\n        document.body)}\n      <div id=\"zone-joystick\" />\n    </div>\n}\n","import React, { Component } from 'react'\n\n\nconst frameTime = 1500\nconst shrinkTime = 300\n\nexport default class TextArea extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentIndex: 0,\n      shrinked: false,\n    }\n  }\n\n  componentDidMount = () =>\n    this.changeWordInterval = setInterval(\n      () => this.changeWord()\n      , frameTime)\n  componentWillUnmount = () =>\n    clearInterval(this.changeWordInterval)\n\n  changeWord = () => {\n    this.setState({shrinked: true})\n    setTimeout(() => this.setState({\n      shrinked: false,\n      currentIndex: this.modulus(this.state.currentIndex + 1),\n    }), shrinkTime)\n  }\n\n  modulus = number =>\n    (this.props.words.length * 10 + number) % this.props.words.length\n  \n  render = () =>\n    <div className=\"word-changer\">\n      <div className={\"word-changer__container \" + (this.state.shrinked && \"word-changer__container--shrinked\")}>\n        {this.props.words\n          .map((item, index) => {\n            const word = this.props.words[this.modulus(this.state.currentIndex - index - 2)]\n\n            return (\n              <div\n                className=\"item\"\n                key={word}\n              >\n                {word}\n              </div>\n        )})}\n      </div>\n    </div>\n}\n\n","import React from 'react'\n\nimport AppStore from 'img/app-store.png'\nimport GooglePlay from 'img/google-play.png'\n\n\nexport default () =>\n  <div className=\"download-links\">\n    <div className=\"download-links__width-container\">\n      <div className=\"download-links__width-container__abs-container\">\n        <img alt=\"App Store\" src={AppStore} />\n        <img alt=\"Google Play\" src={GooglePlay} />\n      </div>\n    </div>\n  </div>\n\n","import React from 'react'\n\nexport default (props) => (\n  <a\n    className={props.className}\n    href={props.to}\n    target={props.newTab ? \"_blank\" : \"\"}\n    rel=\"noopener noreferrer\"\n  >\n    {props.children}\n  </a>\n)","import React from 'react'\n\n// import AppStore from 'img/app-store.png'\n// import GooglePlay from 'img/google-play.png'\n\n\nexport default props =>\n  props.show &&\n    <div\n      className=\"video-modal\"\n      onClick={() => props.hide()}\n    >\n      <div className=\"video-modal__container\">\n        <div className=\"video-modal__container__abs-container\">\n          <iframe\n            // width=\"560\"\n            // height=\"315\"\n            title=\"video\"\n            src=\"https://www.youtube.com/embed/9UYSotyGXoM\"\n            frameborder=\"0\"\n            allow=\"accelerometer;\n            autoplay;\n            encrypted-media;\n            gyroscope;\n            picture-in-picture\"\n            allowfullscreen\n          />\n        </div>\n      </div>\n    </div>\n","import React from 'react'\n\n\nexport default props =>\n  <div\n    {...props}\n    className={\"arrow \" + (props.left && \"arrow--left\")}\n  >\n    <span className=\"arrow__item\" />\n    <span className=\"arrow__item arrow__item--segunda\" />\n  </div>\n","import React, { Component } from 'react'\nimport debounce from 'debounce'\nimport clamp from 'clamp'\n\nimport WordChanger from 'components/WordChanger'\n// import ControlsHelper from 'components/ControlsHelper'\nimport DownloadLinks from 'components/DownloadLinks'\nimport ExternalLink from 'components/ExternalLink'\nimport VideoModal from 'components/VideoModal'\nimport Arrow from 'components/Arrow'\n\n\nconst numberOfSlides = 3\nconst slides = [\"intro\", \"desc\", \"credits\"]\n\nexport default class TextArea extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentSlide: 0,\n      showVideoModal: false,\n    }\n\n    this.scrollableContainerRef = React.createRef()\n    this.scrollableContentRef = React.createRef()\n  }\n\n  componentDidMount = () =>\n    this.scrollableContainerRef.current\n      .addEventListener(\"scroll\", e => this.debouncedOnScroll(e))\n\n  componentWillUnmount = () =>\n    this.scrollableContainerRef.current\n      .removeEventListener(\"scroll\", e => this.debouncedOnScroll(e))\n\n  onScroll = e => {\n    const scrollAlpha = -this.scrollableContentRef.current.getBoundingClientRect().top / this.getMaxScroll()\n    const currentSlide = parseInt(Math.floor(scrollAlpha * .999 * numberOfSlides))\n\n    if (currentSlide !== this.state.currentSlide)\n      this.setState({\n        currentSlide: currentSlide,\n      })\n  }\n  debouncedOnScroll = e =>\n    debounce(this.onScroll(e), 100)\n  \n  getMaxScroll = () =>\n    this.scrollableContainerRef.current &&\n    this.scrollableContentRef.current ?\n      this.scrollableContentRef.current.clientHeight - this.scrollableContainerRef.current.clientHeight\n      :\n      0\n\n  nextSlide = () =>\n    this.scrollableContentRef.current.clientHeight / this.scrollableContainerRef.current.clientHeight > 2 ?\n      document\n        .getElementById(slides[this.state.currentSlide + 1])\n        .scrollIntoView()\n      :\n      this.setState({currentSlide: clamp(this.state.currentSlide + 1, 0, numberOfSlides)})\n  prevSlide = () =>\n    this.scrollableContentRef.current.clientHeight / this.scrollableContainerRef.current.clientHeight > 2 ?\n    document\n      .getElementById(slides[this.state.currentSlide - 1])\n      .scrollIntoView()\n    :\n    this.setState({currentSlide: clamp(this.state.currentSlide - 1, 0, numberOfSlides)})\n\n  render = () =>\n    <div className=\"landing\">\n      \n      <div className={\"landing__content landing__content--\" + this.state.currentSlide}>\n\n        <h1 className=\"landing__content__h1\">\n          SITTING&nbsp;IN&nbsp;A<br />\n          ROOM.&nbsp;I&nbsp;AM.\n        </h1>\n\n        <div className=\"landing__content__description-0\">\n          <div className=\"landing__content__description-0__line-0\">\n              <WordChanger words={[\"\", \"\", \"\", \"\", \"\", \"\"]} />\n          </div>\n          <div className=\"landing__content__description-0__line-1\">\n              .  - .\n          </div>\n        </div>\n\n        <div className=\"landing__content__description-1\">\n                     ,          ?     ?    ,        ,  ? \n        </div>\n\n        <div className=\"landing__content__description-2\">\n          :        ,  .               .    ?       ,     ? \n          <br /><br />\n                   ,  .     :       ,    ,      . \n          <br /><br />\n            ,      ,       ,       .      ?    ?           ?          ?        ?       ? SITTING IN A ROOM. I AM.       ,      ;     . \n          <br /><br />\n            appstore  google play    .\n        </div>\n\n        <div className=\"landing__content__credits\">\n          <span className=\"green\"></span> &nbsp;, &nbsp;, &nbsp;, &nbsp;, &nbsp;, &nbsp;, &nbsp;, &nbsp;, &nbsp;\n          <br /><br />\n          <span className=\"green\"></span> &nbsp;<br />\n          <span className=\"green\"></span> &nbsp;<br />\n          <span className=\"green\"></span> &nbsp;<br />\n          <span className=\"green\"></span> &nbsp;, &nbsp;<br />\n          <span className=\"green\">, , AR&#8209;</span> &nbsp;<br />\n          <DownloadLinks />\n        </div>\n\n        <div className=\"landing__content__links\">\n          <div\n            className=\"landing__content__links__item\"\n            onClick={() => this.setState({showVideoModal: true})}\n          >\n            \n          </div>\n          <ExternalLink newTab to=\"https://anchor.fm/apolloniada/episodes/500-ef0226\">\n            <div className=\"landing__content__links__item\">\n              \n            </div>\n          </ExternalLink>\n        </div>\n\n      </div>\n\n      <div\n        ref={this.scrollableContainerRef}\n        className=\"landing__scrollable\"\n      >\n        <div\n          ref={this.scrollableContentRef}\n          className=\"landing__scrollable__long-part\"\n        >\n          {slides.map(slide =>\n            <div\n              id={slide}\n              key={slide}\n              className=\"anchor\"\n            />\n          )}\n        </div>\n      </div>\n\n      {/* <ControlsHelper /> */}\n\n      {this.state.currentSlide > 1 &&\n        <Arrow\n          left\n          onClick={() => this.prevSlide()}\n        />}\n      {this.state.currentSlide < numberOfSlides - 1 &&\n        <Arrow\n          onClick={() => this.nextSlide()}\n        />}\n\n      <VideoModal\n        show={this.state.showVideoModal}\n        hide={() => this.setState({showVideoModal: false})}\n      />\n\n    </div>\n}\n\n","export default (number, word) => {\n  let countableWord\n  \n  if (Array.isArray(word)) {\n    if ((number > 10 && number < 20) || number % 10 > 4 || number % 10 === 0)\n      countableWord = word[2]\n    else if (number % 10 > 1)\n      countableWord = word[1]\n    else\n      countableWord = word[0]\n  }\n  else if (number === 1)\n    countableWord = word\n  else countableWord = word + \"s\"\n\n  return countableWord\n}\n","import React from 'react'\n\nimport htmlToImage from 'html-to-image'\nimport download from 'downloadjs'\n\nimport countable from 'libs/utils/countable'\nimport { maxCoins } from 'libs/utils/coinCodes'\n\nconst generationOffset = 350\n\nexport default class OgImage extends React.Component {\n  componentDidMount = () => {\n    setTimeout(() => {\n      const problematicLines = document.getElementsByClassName(\"custom-og-image__text-block__item\")\n      Array.from(problematicLines)\n        .forEach(element => element.style.width = `${element.clientWidth}px`)\n    }, generationOffset)\n\n    var node = document.getElementById('custom-og-image');\n    setTimeout(() =>\n      htmlToImage.toPng(node)\n      .then(dataUrl => {\n        download(dataUrl, `${this.props.amount}.png`)\n        // var img = new Image();\n        // img.src = dataUrl;\n        // img.style=\"position: fixed; top: 0; left: 0; width: 1200px; height: 630px\"\n        // document.body.appendChild(img);\n      })\n      .catch(function (error) {\n        console.error('oops, something went wrong!', error);\n      })\n    , generationOffset * 2)\n\n    setTimeout(() => window.location.reload(), generationOffset * 4)\n  }\n  \n  render = () => {\n    const amount = Math.min(this.props.amount, maxCoins)\n    const drawPlus = this.props.amount > maxCoins\n  \n    return (\n      <div\n        className=\"custom-og-image\"\n        id=\"custom-og-image\"\n      >\n        <div className=\"custom-og-image__text-block\">\n          <div className=\"custom-og-image__text-block__item\">\n             {countable(amount, ['', '', ''])} {amount}{drawPlus ? \"+\" : \"\"}\n          </div>\n          <div className=\"custom-og-image__text-block__item\">\n            {countable(amount, ['', '', ''])},  \n          </div>\n          <div className=\"custom-og-image__text-block__item\">\n             \n          </div>\n          <div className=\"custom-og-image__text-block__item\">\n              \n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nimport download from 'downloadjs'\n\nimport { coinCodes } from 'libs/utils/coinCodes'\n\n\nconst generationOffset = 350\n\nexport default class SharePagesGenerator extends React.Component {\n  componentDidMount = () => {\n    download(`\n      <html>\n        <head>  \n          <meta charset=\"utf-8\" />\n          <link rel=\"icon\" href=\"https://apollonia.today/favicon.png\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n          <meta name=\"theme-color\" content=\"#000000\" />\n          <meta\n            name=\"description\"\n            content=\"           ,          ?     ?    ,        ,  ?\"\n          />\n          <!-- Primary Meta Tags -->\n          <title>SITTING IN A ROOM. I AM.</title>\n          <meta name=\"title\" content=\"SITTING IN A ROOM. I AM.\">\n          <meta name=\"description\" content=\"      \">\n\n          <!-- Open Graph / Facebook -->\n          <meta property=\"og:type\" content=\"website\">\n          <meta property=\"og:url\" content=\"https://apollonia.today/ubi/share/${coinCodes[this.props.amount]}/\">\n          <meta property=\"og:title\" content=\"SITTING IN A ROOM. I AM.\">\n          <meta property=\"og:description\" content=\"      \">\n          <meta property=\"og:image\" content=\"https://apollonia.today/ubi/og-images/${this.props.amount}.png\">\n\n          <!-- Twitter -->\n          <meta property=\"twitter:card\" content=\"summary_large_image\">\n          <meta property=\"twitter:url\" content=\"https://apollonia.today/ubi/share/${coinCodes[this.props.amount]}/\">\n          <meta property=\"twitter:title\" content=\"SITTING IN A ROOM. I AM.\">\n          <meta property=\"twitter:description\" content=\"      \">\n          <meta property=\"twitter:image\" content=\"https://apollonia.today/ubi/og-images/${this.props.amount}.png\">\n        <head>\n        <body>\n          <script>window.location.href = \"https://apollonia.today/ubi\"</script>\n        </body>\n      <html>\n    `, `${coinCodes[this.props.amount]}.html`)\n   \n    setTimeout(() => window.location.reload(), generationOffset)\n  }\n  \n  render = () =>\n    <div />\n}\n","import React from 'react'\n\nimport Div100vh from 'react-div-100vh'\nimport queryString from 'query-string'\n\nimport ThreeScene from './components/ThreeScene'\nimport TextArea from './components/TextArea'\nimport OgImage from './components/OgImage'\nimport SharePagesGenerator from './components/SharePagesGenerator'\n\nimport 'styles/index.sass'\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const { amount, page } = queryString.parse(window.location.search)\n\n    this.state = {\n      amount: amount ? parseFloat(amount) : amount,\n      page: page ? parseFloat(page) : page,\n    }\n\n    if (amount)\n      window.history.replaceState({}, document.title, `/ubi?amount=${this.state.amount + .5}`)\n    else\n      if (page)\n        window.history.replaceState({}, document.title, `/ubi?page=${this.state.page + .5}`)\n      else\n        window.history.replaceState({}, document.title, \"/ubi\")\n  }\n\n  render = () =>\n    <Div100vh>\n      {this.state.amount && <OgImage amount={this.state.amount} />}\n      {this.state.page && <SharePagesGenerator amount={this.state.page} />}\n      {!this.state.amount && !this.state.page &&\n        <>\n          <ThreeScene/>\n          <TextArea/>\n        </>        \n      }\n    </Div100vh>\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}