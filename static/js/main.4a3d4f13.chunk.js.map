{"version":3,"sources":["img/app-store.png","img/google-play.png","libs/engines/3d/models/Astronaut.glb","libs/engines/3d/models/VoxelGuy.glb","libs/engines/3d/models/Woman.glb","sounds/footstep0.mp3","sounds/footstep1.mp3","libs/engines/3d/models/tree.glb","libs/engines/3d/textures/blackgrid.jpg","sounds/background.mp3","libs/engines/3d/models/coin.glb","libs/engines/3d/three.js","libs/engines/3d/Unit.js","libs/utils/handlers/transitionHandler/timingFunctions.js","libs/utils/handlers/transitionHandler/index.js","libs/engines/3d/Scene.js","libs/utils/isTouchDevice.js","libs/engines/3d/modelLoader.js","libs/engines/3d/units/Character.js","libs/engines/3d/textureLoader.js","libs/engines/3d/units/Landscape.js","libs/engines/3d/units/Coins.js","libs/engines/3d/units/Lights.js","libs/engines/3d/units/Fog.js","libs/engines/3d/units/Controls.js","libs/engines/3d/units/BloomPostprocessing/index.js","components/CoinsCollected.js","components/ThreeScene.js","components/WordChanger.js","components/ControlsHelper.js","components/DownloadLinks.js","components/ExternalLink.js","components/VideoModal.js","components/Arrow.js","components/TextArea.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","window","THREE","Unit","props","animate","frame","dispose","this","fns","t","k","easeIn","easeOut","easeInOut","TransitionsHandler","animateTransitions","unregisteredTransitions","transitions","forEach","transition","currentFrame","numberOfFrames","push","alpha","timingFuntion","timingFuntions","variable","copy","initialValue","clone","lerp","value","transitionToUnregister","onComplete","unregisterTransition","id","registerTransition","currentId","Number","MAX_SAFE_INTEGER","transitionId","transitionIndex","map","indexOf","splice","unregisterAllTransitions","length","noActiveTransitions","sceneVariables","renderer","undefined","camera","scene","Scene","composer","controls","clock","Clock","frameNumber","units","unitsToggled","init","ViewerDiv","W","clientWidth","H","clientHeight","optimise","WebGLRenderer","antialias","setClearColor","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","appendChild","domElement","PerspectiveCamera","OrbitControls","position","z","update","EffectComposer","addPass","RenderPass","initUnits","frameId","requestAnimationFrame","disposeUnits","cancelAnimationFrame","resize","aspect","updateProjectionMatrix","Object","keys","unitName","input","Controls","maxFrameNumber","react","render","getDelta","unit","disabled","children","remove","toggleUnits","transitionHandler","document","createEvent","e","model","a","Promise","res","rej","GLTFLoader","load","gltf","progress","console","log","loaded","total","error","getModelOffset","isTouchDevice","modelOffset","Vector3","minPosition","maxPosition","xAxis","yAxis","zAxis","nextPos","cameraAngleX","cameraAngleConrolsApplied","Vector2","moveCameraAngleApplied","cameraToTarget","modelQuaternion","Quaternion","tmpVector","models","file","VoxelGuyModel","scale","animationScale","AstronautModel","WomanModel","Character","loadModel","randomModel","Math","round","random","modelLoader","gtlf","mixer","AnimationMixer","action","clipAction","animations","play","set","add","fadeMultiplier","startStepsSounds","interval","timeScale","footstep0Interval","footstep0","currentTime","setInterval","footstep1Interval","footstep1Timeout","setTimeout","footstep1","stopStepsSounds","clearInterval","clearTimeout","firstFlag","moveSpeed","move","angleTo","sign","x","PI","mouse","alphaX","alphaY","applyAxisAngle","clamp","collisionFlag","trees","Landscape","i","distanceTo","quaternion","slerp","setFromUnitVectors","normalize","y","target","sub","setY","Audio","TextureLoader","texture","Laandscape","textureLoader","planeTextureImage","planeTexture","wrapS","RepeatWrapping","wrapT","repeat","plane","Mesh","PlaneGeometry","MeshBasicMaterial","side","DoubleSide","rotateX","treeModel","treeMesh","dummy","Object3D","treePos","treeInstance","InstancedMesh","geometry","material","instanceMatrix","setUsage","DynamicDrawUsage","randomX","max","randomZ","ArenaRadius","rotation","updateMatrix","setMatrixAt","matrix","needsUpdate","addSoundButton","body","insertAdjacentHTML","ReactDOMServer","renderToString","renderSoundButton","addEventListener","hideSoundButton","elem","getElementById","removeChild","audio","className","backgroundMusic","initialScale","finalScale","charachterPos","coinInitialPos","Coins","coinModel","coinMesh","coinInstance","middleOfArray","floor","coins","emmitCoin","coin","shownSprite","sprites","addCoin","index","text","sprite","TextSprite","color","redrawInterval","textSize","minFontSize","maxFontSize","Array","from","Lowpoly","angle2","angle3","angle4","light2","cos","sin","light3","light4","DirectionalLight","Fog","fog","initialThis","moveFlags","up","code","pressed","down","left","right","addJoystick","options","zone","mode","innerWidth","innerHeight","size","joystickManager","nipplejs","create","on","data","angle","radian","getDirectionState","direction","key","reduce","b","multiplyScalar","handleMouseMove","pageX","pageY","handleKeyDown","keyCode","handleKeyUp","removeEventListener","destroy","BloomPostprocessing","bloom","BloomEffect","intensity","pass","EffectPass","number","ThreeScene","componentWillUnmount","ref","viewerRef","CoinsCollected","state","coinsCollected","React","createRef","setState","Lights","resizeObs","ResizeObserver","bind","observe","current","Component","TextArea","componentDidMount","changeWordInterval","changeWord","shrinked","currentIndex","modulus","words","item","word","ControlsHelper","showControlsHelper","onClick","src","AppStore","GooglePlay","href","to","newTab","rel","show","hide","frameborder","allow","allowfullscreen","slides","scrollableContainerRef","debouncedOnScroll","onScroll","scrollAlpha","scrollableContentRef","getBoundingClientRect","top","getMaxScroll","currentSlide","parseInt","debounce","nextSlide","scrollIntoView","prevSlide","DownloadLinks","showVideoModal","ExternalLink","slide","Arrow","numberOfSlides","VideoModal","App","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4a3d4f13.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-store.d388a3f2.png\";","module.exports = __webpack_public_path__ + \"static/media/google-play.ef5c7ffd.png\";","module.exports = __webpack_public_path__ + \"static/media/Astronaut.ac9701ba.glb\";","module.exports = __webpack_public_path__ + \"static/media/VoxelGuy.3119f9c6.glb\";","module.exports = __webpack_public_path__ + \"static/media/Woman.c9ed6341.glb\";","module.exports = __webpack_public_path__ + \"static/media/footstep0.81acdc76.mp3\";","module.exports = __webpack_public_path__ + \"static/media/footstep1.2b680b02.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tree.46613934.glb\";","module.exports = __webpack_public_path__ + \"static/media/blackgrid.3d7d5793.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background.3c316576.mp3\";","module.exports = __webpack_public_path__ + \"static/media/coin.e8a0d624.glb\";","import * as THREE from 'three'\n\nwindow.THREE = THREE\n\nexport default THREE","export default class Unit {\n  constructor(props) { this.props = props }\n  animate = frame => {}\n  dispose = () => {}\n}","let fns = {}\n\nfns.linear = t => t\nfns.easeInQuad = t => t * t\nfns.easeOutQuad = t => t * (2 - t)\nfns.easeInOutQuad = t => t < .5 ? 2 * (t ** 2) : -1 + (4 - 2 * t) * t\nfns.easeInCubic = t => t * t * t\nfns.easeOutCubic = t => (--t) * t * t + 1\nfns.easeInOutCubic = t => t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\nfns.easeInQuart = t => t * t * t * t\nfns.easeOutQuart = t => 1-(--t) * t * t * t\nfns.easeInOutQuart = t => t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\nfns.easeInQuint = t => t * t * t * t * t\nfns.easeOutQuint = t => 1 + (--t) * t * t * t * t\nfns.easeInOutQuint = t => t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n\nfns.easeIn = (t, k) => (t ** k)\nfns.easeOut = (t, k) => 1 - fns.easeIn(1 - t, k)\nfns.easeInOut = (t, k) => t < .5 ?\n  fns.easeIn(t * 2, k) / 2\n  :\n  1 - fns.easeIn((1 - t) * 2, k) / 2\n\nfns.easeIn2 = t => fns.easeIn(t, 1.5)\nfns.easeOut2 = t => fns.easeOut(t, 1.5)\nfns.easeInOut2 = t => fns.easeInOut(t, 1.5)\n\n\nexport default fns","import Unit from 'libs/engines/3d/Unit'\n\nimport timingFuntions from './timingFunctions'\n\nexport default class TransitionsHandler extends Unit {\n  constructor(props) {\n    super(props)\n    this.transitions = []\n    this.currentId = 0\n  }\n\n  animateTransitions = () => {\n    let unregisteredTransitions = []\n\n    this.transitions.forEach(transition => {\n      if (transition.currentFrame >= transition.numberOfFrames)\n        unregisteredTransitions.push(transition)\n      else {\n        // const alpha = 1 / (transition.numberOfFrames - transition.currentFrame)\n        const alpha = transition.currentFrame / transition.numberOfFrames\n        const timingFuntion = timingFuntions[transition.timingFuntion] || (t => t)\n\n        transition.variable.copy(transition.initialValue\n          .clone()\n          .lerp(transition.value, timingFuntion(alpha)))\n\n        transition.currentFrame++\n      }\n    })\n\n    unregisteredTransitions.forEach(transitionToUnregister => {\n      transitionToUnregister.onComplete && transitionToUnregister.onComplete()\n      this.unregisterTransition(transitionToUnregister.id)\n    })\n  }\n\n  registerTransition = props => {\n    this.transitions.push({\n      id: this.currentId = (this.currentId + 1) % Number.MAX_SAFE_INTEGER,\n      variable: props.variable,\n      value: props.value.clone(),\n      initialValue: props.variable.clone(),\n      numberOfFrames: props.numberOfFrames || 10,\n      currentFrame: 0,\n      timingFuntion: props.timingFuntion || \"none\",\n      onComplete: props.onComplete || (() => {}),\n    })\n\n    return this.currentId\n  }\n\n  unregisterTransition = transitionId => {\n    const transitionIndex = this.transitions\n      .map(transition => transition.id)\n      .indexOf(transitionId)\n\n    if (transitionIndex !== -1)\n      this.transitions.splice(transitionIndex, 1)\n  }\n\n  unregisterAllTransitions = () => this.transitions.length = 0\n\n  noActiveTransitions = () => this.transitions.length === 0\n\n}","import THREE from 'libs/engines/3d/three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js'\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js'\nimport { EffectComposer, RenderPass } from 'postprocessing'\n\nimport transitionHandler from 'libs/utils/handlers/transitionHandler'\n\n\nconst targetToCamera = -15\nconst maxFrameNumber = 5000\n\nvar sceneVariables = {\n  renderer: undefined,\n  camera: undefined,\n  scene: new THREE.Scene(),\n  composer: undefined,\n  controls: undefined,\n\n  clock: new THREE.Clock(),\n  frameNumber: 0,\n\n  units: {},\n  unitsToggled: false,\n}\n\n\nexport default class Scene extends transitionHandler {\n\n  constructor(props) {\n    super(props)\n    this.scene = sceneVariables\n  }\n\n  init = ViewerDiv => {\n    const W = ViewerDiv.clientWidth\n    const H = ViewerDiv.clientHeight\n\n    //ADD RENDERER\n    const optimise = W > 1200\n    this.scene.renderer = new THREE.WebGLRenderer({ antialias: !optimise, alpha: true })\n    this.scene.renderer.setClearColor(0x000000, 0)\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n    this.scene.renderer.shadowMap.enabled = true\n\n    ViewerDiv.appendChild(this.scene.renderer.domElement)\n\n    //ADD CAMERA\n    this.scene.camera = new THREE.PerspectiveCamera(\n      75,\n      W / H,\n      0.1,\n      1000\n    )\n    this.scene.controls = new OrbitControls(this.scene.camera, this.scene.renderer.domElement)\n    this.scene.controls.enabled = false\n    this.scene.camera.position.z = targetToCamera\n    this.scene.controls.update()\n\n    this.scene.composer = new EffectComposer(this.scene.renderer)\n    this.scene.composer.addPass(new RenderPass(this.scene.scene, this.scene.camera))\n\n    this.initUnits()\n\n    if (!this.frameId)\n      this.frameId = requestAnimationFrame(this.animate)\n  }\n\n  dispose = () => {\n    this.disposeUnits()\n    cancelAnimationFrame(this.frameId)\n  }\n\n  resize = (W, H) => {\n    if (!this.scene.renderer || !this.scene.camera)\n      return\n\n    const optimise = W > 1200\n\n    this.scene.camera.aspect = W / H\n    this.scene.camera.updateProjectionMatrix()\n\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n  }\n\n  animate = () => {\n    this.scene.frameNumber = (this.scene.frameNumber + 1) % maxFrameNumber\n\n    const {\n      composer,\n      controls,\n      units,\n      clock,\n    } = this.scene\n\n    Object.keys(units)\n      .forEach(unitName =>\n        units[unitName].animate({\n          THREE: THREE,\n          ...this.scene,\n          input: this.scene.units.Controls,\n          maxFrameNumber: maxFrameNumber,\n          react: this.props.react,\n        }))\n\n    controls.update()\n    // composer.render()\n    composer.render(clock.getDelta())\n\n    this.frameId = window.requestAnimationFrame(this.animate)\n  }\n\n\n  initUnits = () => {\n    const props = {\n      THREE: THREE,\n      ...this.scene,\n      input: this.scene.units.Controls,\n      maxFrameNumber: maxFrameNumber,\n      react: this.props.react,\n    }\n\n    Object.keys(this.props.units)\n      .forEach(unitName => {\n        const unit = this.props.units[unitName]\n\n        if (!unit.disabled ^ this.scene.unitsToggled) {\n          this.scene.units[unitName] = new unit.unit(props)\n          this.scene.units[unitName].init &&\n            this.scene.units[unitName].init()\n        }\n      })\n  }\n\n  disposeUnits = () => {\n    const {\n      scene,\n      units,\n    } = this.scene\n\n    Object.keys(units)\n      .forEach(unitName => units[unitName].dispose())\n\n    //REDO THIS SHIT: units should unregister themselves\n    while(scene.children.length > 0)\n      scene.remove(scene.children[0])\n  }\n\n  toggleUnits = () => {\n    this.disposeUnits()\n    this.scene.unitsToggled = !this.scene.unitsToggled\n    this.initUnits()\n  }\n\n  // toggleUnit = unitName => {\n  //   // if (this.scene[unitName].enabled)\n  //   console.log(this.scene.scene.children)\n  // }\n}\n","export default () => {\n  try {  \n    document.createEvent(\"TouchEvent\")  \n    return true  \n  } catch (e) {  \n    return false  \n  }  \n}\n","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\n\n\nexport default async model =>\n  new Promise((res, rej) =>\n    new GLTFLoader()\n      .load(\n        model,\n        gltf =>\n          res(gltf),\n        progress =>\n          console.log((progress.loaded / progress.total * 100) + '% loaded'),\n        error =>\n          rej(error),\n      )\n  )\n","import THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\n\nimport modelLoader from 'libs/engines/3d/modelLoader'\nimport AstronautModel from 'libs/engines/3d/models/Astronaut.glb'\nimport VoxelGuyModel from 'libs/engines/3d/models/VoxelGuy.glb'\nimport WomanModel from 'libs/engines/3d/models/Woman.glb'\nimport footstep0 from 'sounds/footstep0.mp3'\nimport footstep1 from 'sounds/footstep1.mp3'\n\n\nconst ArenaRadius = 300\nconst modelXOffset = .1\nconst modelXOffsetTouch = .1\nconst getModelOffset = () =>\n  isTouchDevice() ?\n    modelXOffsetTouch : modelXOffset\nvar modelOffset = new THREE.Vector3(getModelOffset(), 0, 0)\nconst slowerAnimation = .1\n\nconst minPosition = new THREE.Vector3(-ArenaRadius, -ArenaRadius, -ArenaRadius)\nconst maxPosition = new THREE.Vector3( ArenaRadius,  ArenaRadius,  ArenaRadius)\nconst xAxis = new THREE.Vector3(1, 0, 0)\nconst yAxis = new THREE.Vector3(0, 1, 0)\nconst zAxis = new THREE.Vector3(0, 0, 1)\n\nvar nextPos = new THREE.Vector3(0, 0, 0)\nvar cameraAngleX = 0\nvar cameraAngleConrolsApplied = new THREE.Vector2(0, 0)\nvar moveCameraAngleApplied = new THREE.Vector3()\nvar cameraToTarget = new THREE.Vector3()\nvar modelQuaternion = new THREE.Quaternion()\nvar tmpVector = new THREE.Vector3()\n\nconst models = [\n  {\n    file: VoxelGuyModel,\n    scale: 5,\n    animationScale: 5,\n  },\n  {\n    file: AstronautModel,\n    scale: 1.25,\n    animationScale: 4.2,\n  },\n  {\n    file: WomanModel,\n    scale: 3,\n    animationScale: 3.8,\n  },\n]\n\n\nexport default class Character extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.loadModel()\n\n    this.firstFlag = true\n\n    this.footstep0 = new Audio(footstep0)\n    this.footstep1 = new Audio(footstep1)\n    this.footstep0Interval = undefined\n    this.footstep1Interval = undefined\n  }\n\n  loadModel = async () => {\n    const randomModel = models[Math.round(Math.random() * (models.length - 1))]\n\n    this.gtlf = await modelLoader(randomModel.file)\n    this.model = this.gtlf.scene\n    this.mixer = new THREE.AnimationMixer( this.gtlf.scene )\n    this.action = this.mixer.clipAction( this.gtlf.animations[ 0 ] )\n    this.action.play()\n\n    this.model.position.set(getModelOffset(), 0, 0)\n    this.model.scale.set(randomModel.scale, randomModel.scale, randomModel.scale)\n\n    this.props.scene.add(this.model)\n\n    this.fadeMultiplier = 1\n  }\n\n  startStepsSounds = () => {\n    const interval = Math.round(1250 / this.mixer.timeScale)\n\n    if (!this.footstep0Interval) {\n      this.footstep0.currentTime = 0\n      this.footstep0.play()\n      this.footstep0Interval = setInterval(() => {\n        this.footstep0.currentTime = 0\n        this.footstep0.play()\n      }, interval)\n    }\n    if (!this.footstep1Interval && !this.footstep1Timeout) {\n      this.footstep1Timeout = setTimeout(() => {\n        this.footstep1.currentTime = 0\n        this.footstep1.play()\n        this.footstep1Interval = setInterval(() => {\n          this.footstep1.currentTime = 0\n          this.footstep1.play()\n        }, interval)\n      }, Math.round(interval / 2))\n    }\n  }\n  stopStepsSounds = () => {\n    if (this.footstep0Interval) {\n      clearInterval(this.footstep0Interval)\n      this.footstep0Interval = undefined\n    }\n    if (this.footstep1Interval) {\n      clearInterval(this.footstep1Interval)\n      this.footstep1Interval = undefined\n    }\n    if (this.footstep1Timeout) {\n      clearTimeout(this.footstep1Timeout)\n      this.footstep1Timeout = undefined\n    }\n  }\n\n  animate = props => {\n    if (!this.model)\n      return\n\n    if (this.firstFlag) {\n      this.firstFlag = false\n      this.mixer.timeScale *= props.input.moveSpeed * slowerAnimation\n    }\n    \n    cameraAngleX +=\n      props.input.move.z > 0 ?\n        props.input.move.angleTo(zAxis) / 150 * Math.sign(props.input.move.x)\n        :\n        (Math.PI - props.input.move.angleTo(zAxis)) / 150 * Math.sign(props.input.move.x)\n\n    if (!isTouchDevice())\n      cameraAngleConrolsApplied.set(\n        props.input.mouse.alphaX * Math.PI * 1.5 + cameraAngleX,\n        props.input.mouse.alphaY * Math.PI / 12\n      )\n    else\n      cameraAngleConrolsApplied.set(cameraAngleX, Math.PI / 16)\n\n    moveCameraAngleApplied\n      .copy(props.input.move)\n        .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    modelOffset\n      .set(getModelOffset(), 0, 0)\n      .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    nextPos.copy(this.model.position)\n      .add(moveCameraAngleApplied)\n    nextPos.clamp(minPosition, maxPosition)\n\n    let collisionFlag = false\n    const trees = props.units?.Landscape?.trees\n\n    if (trees)\n      for (let i = 0; i < trees.length && !collisionFlag; i++) {\n        const distance = nextPos.distanceTo(trees[i].position)\n\n        if (distance < trees[i].scale * 1.25)\n          collisionFlag = true\n      }\n\n    if (!collisionFlag) {\n      this.model.position.copy(nextPos)\n      if (props.input.move.length() > .01) {\n        // this.startStepsSounds()\n        this.mixer.update(props.clock.getDelta())\n      } else\n        ;//this.stopStepsSounds()\n    } else\n      ;//this.stopStepsSounds()\n\n    if (props.input.move.length() > 0)\n      this.model.quaternion.slerp(\n        modelQuaternion\n          .setFromUnitVectors(zAxis, moveCameraAngleApplied.normalize())\n        , .135)\n\n    cameraToTarget = (new THREE.Vector3(0, 0, -15))\n      .applyAxisAngle(xAxis, cameraAngleConrolsApplied.y)\n      .applyAxisAngle(yAxis, cameraAngleConrolsApplied.x)\n\n    props.controls.target.copy(this.model.position).sub(modelOffset)\n    props.controls.target.setY(isTouchDevice() ? 7 : 5)\n    props.camera.position.copy(tmpVector.copy(this.props.controls.target).add(cameraToTarget))\n  }\n\n  dispose = () => {}\n}\n","import THREE from 'libs/engines/3d/three'\n\n\nexport default async file =>\n  new Promise((res, rej) =>\n    new THREE.TextureLoader()\n      .load(file,\n        texture =>\n          res(texture),\n        progress => {},\n        error =>\n          rej(error)\n      )\n  )","import React, { Component } from 'react'\nimport ReactDOMServer from 'react-dom/server'\n\n\nimport clamp from 'clamp'\nimport THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport modelLoader from 'libs/engines/3d/modelLoader'\nimport textureLoader from 'libs/engines/3d/textureLoader'\n\nimport treeModel from 'libs/engines/3d/models/tree.glb'\nimport planeTextureImage from 'libs/engines/3d/textures/blackgrid.jpg'\nimport backgroundMusic from 'sounds/background.mp3'\n\nconst treeAmount = 75\nconst ArenaRadius = 300\nconst xAxis = new THREE.Vector3(1, 0, 0)\nconst yAxis = new THREE.Vector3(0, 1, 0)\n// const zAxis = new THREE.Vector3(0, 0, 1)\n\nexport default class Laandscape extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.audio = new Audio(backgroundMusic)\n    this.audio.addEventListener('ended', () => {\n      this.audio.currentTime = 0\n      this.audio.play()\n    })\n\n    const events = [\n      \"click\",\n      \"mousedown\",\n      \"mousemove\",\n      \"mouseover\",\n      \"mouseout\",\n      \"mousewheel\",\n      \"keydown\",\n      \"textInput\",\n      \"touchstart\",\n      \"touchcancel\",\n      \"resize\",\n      \"orientationchange\",\n      \"scroll\",\n      \"zoom\",\n    ]\n\n    // const playAudioFirstTime = () =>\n    //   !this.timeout && (\n    //     this.timeout = setTimeout(() => {\n    //       events.forEach(event =>\n    //         document.removeEventListener(event, playAudioFirstTime))\n    //       this.audio.play()  \n    //     }, 500))\n    \n    // this.audio.addEventListener(\"canplaythrough\",\n    //   () => events.forEach(event =>\n    //     document.addEventListener(event, playAudioFirstTime)))\n\n    this.loadModel()\n    this.addSoundButton()\n    \n  }\n\n  loadModel = async () => {\n    var planeTexture = await textureLoader(planeTextureImage)\n    planeTexture.wrapS = THREE.RepeatWrapping\n    planeTexture.wrapT = THREE.RepeatWrapping\n    planeTexture.repeat.set( 27, 27 )\n    this.plane = new THREE.Mesh(\n      new THREE.PlaneGeometry( 2 * ArenaRadius, 2 * ArenaRadius, 1, 1 ),\n      new THREE.MeshBasicMaterial({\n        map: planeTexture,\n        side: THREE.DoubleSide,\n      })\n    )\n    this.plane.rotateX(Math.PI / 2)\n    this.props.scene.add( this.plane )\n\n    const treeMesh = (await modelLoader(treeModel)).scene\n    var dummy = new THREE.Object3D()\n    var treePos = new THREE.Vector3()\n\n    this.treeInstance = new THREE.InstancedMesh(treeMesh.children[0].geometry, treeMesh.children[0].material, treeAmount)\n    this.treeInstance.instanceMatrix.setUsage( THREE.DynamicDrawUsage )\n    this.props.scene.add(this.treeInstance)\n\n    this.trees = []\n    for (let i = 0; i < treeAmount; i++) {\n      let randomX = Math.max(Math.random(), .1) * Math.sign(Math.random() - .5)\n      let randomZ = Math.max(Math.random(), .1) * Math.sign(Math.random() - .5)\n\n      treePos\n        .set(\n          ArenaRadius * randomX,\n          ArenaRadius / 8 * Math.random(),\n          ArenaRadius * randomZ,\n        )\n\n      let scale = (1 + Math.random()) * 10\n      dummy.scale.set(scale, scale, scale)\n      dummy.position.copy(treePos)\n      this.trees.push({\n        position: (new THREE.Vector3()).copy(dummy.position),\n        scale: scale,\n      })\n      dummy.rotation.y = (-.5 + Math.random()) * Math.PI / 2\n      dummy.rotation.x = (.5 + Math.random()) * Math.PI / 2\n      dummy.updateMatrix()\n      this.treeInstance.setMatrixAt(i, dummy.matrix)\n    }\n\n    this.treeInstance.instanceMatrix.needsUpdate = true\n  }\n\n\n  addSoundButton = () => {\n\n    document.body\n      .insertAdjacentHTML('beforeend',\n        ReactDOMServer.renderToString(\n          this.renderSoundButton()))\n\n    window.addEventListener(\"click\", e => {\n      if (e.target.id === \"sound-alert\")\n        this.hideSoundButton()\n    })      \n  }\n\n  hideSoundButton = () => {\n    console.log(\"a\")\n    const elem = document.getElementById(\"sound-alert\")\n    document.body.removeChild(elem)\n    this.audio.play()\n  }\n\n  renderSoundButton = () => (\n    <div\n      id=\"sound-alert\"\n      className=\"sound-alert\"\n      // onClick={() => this.hideSoundButton()}\n    >\n      –≤–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫\n    </div>\n  )\n\n  animate = props => {}\n  dispose = () => {}\n}\n","import TextSprite from 'three.textsprite'\nimport THREE from 'libs/engines/3d/three'\nimport transitionHandler from 'libs/utils/handlers/transitionHandler'\nimport modelLoader from 'libs/engines/3d/modelLoader'\n\nimport coinModel from 'libs/engines/3d/models/coin.glb'\n\n\nconst coinAmount = 300\nconst ArenaRadius = 300\nconst initialScale = new THREE.Vector3(12, 12, 12)\nconst finalScale = new THREE.Vector3(.1, .1, .1)\n\nvar dummy = new THREE.Object3D()\nvar charachterPos = new THREE.Vector3()\n\n\nconst coinInitialPos = () =>\n  new THREE.Vector3(\n    (Math.random() - .5) * 2 * ArenaRadius * .7,\n    35,\n    (Math.random() - .5) * 2 * ArenaRadius * .7,\n  )\n\n\nexport default class Coins extends transitionHandler {\n  constructor(props) {\n    super(props)\n\n    this.sprites = [\n      \"üåÖ\",\n      \"‚ú®\",\n      \"‚ù§Ô∏è\",\n      \"üíãüê∏\",\n      \"üß†üëåüèª\",\n      \"üõπüëô\",\n      \"üíª\",\n      \"üáÆüá±\",\n      \"üíúüåô\",\n      \"üá∑üá∫‚¨ÜÔ∏è\",\n      \"ü¶äüõè\",\n      \"üîû\",\n      \"ü•≠\",\n      \"üè≥Ô∏è‚Äçüåà\",\n      \"üë®‚Äçüë®‚Äçüë¶üìï\",\n      \"üé®üôÖüèª‚Äç‚ôÄÔ∏è\",\n      \"üòéüëÆüèæ‚Äç‚ôÇÔ∏è\",\n      \"üé§üí©\",\n      \"ü•ñ\",\n      \"üëë\",\n      \"üß¨üèÜ\",\n      \"üïπ\",\n      \"üí°\",\n      \"‚úäüèæüî•\",\n      \"ü¶†üè°\",\n      \"üêûüßùüèº‚Äç‚ôÄ\",\n      \"üé≠üöß\",\n      \"üêñüëÉüèª\",\n      \"üêçüö∏\",\n      \"‚è≥üò¨\",\n    ].map(text => {\n      let sprite = new TextSprite({\n        material: {\n          color: 0xFFFFFF,\n          // fog: false,\n        },\n        redrawInterval: false,\n        textSize: 3,\n        minFontSize: 128,\n        maxFontSize: 128,\n        texture: {\n          // fontFamily: `'RF-Dewi', sans-serif`,\n          // fontWeight: 700,\n          text: text,\n        },  \n      })\n      sprite.position.set(0, ArenaRadius * 2, 0)\n      props.scene.add(sprite)\n    \n      return sprite\n    })\n\n    this.coins = Array\n      .from(\n        {length: coinAmount},\n        (coin, index) => ({\n          index: index,\n          transitionId: undefined,\n          position: coinInitialPos(),\n          scale: initialScale.clone(),\n        })\n      )\n\n    this.loadModel()\n  }\n\n  loadModel = async () => {\n    const coinMesh = (await modelLoader(coinModel)).scene\n\n    this.coinInstance = new THREE.InstancedMesh(coinMesh.children[0].geometry, coinMesh.children[0].material, coinAmount)\n    this.coinInstance.instanceMatrix.setUsage( THREE.DynamicDrawUsage )\n    this.props.scene.add(this.coinInstance)\n\n    const middleOfArray = Math.floor(this.coins.length)\n    for (let i = 0; i < middleOfArray; i++)\n      this.emmitCoin(this.coins[i])\n    \n    setTimeout(() => {\n      for (let i = middleOfArray; i < this.coins.length; i++)\n        this.emmitCoin(this.coins[i])\n    }, 3000)\n  }\n\n  animate = props => {\n    if (!this.coinInstance || !props.units.Character.model)\n      return\n\n    this.animateTransitions()\n\n    charachterPos\n      .copy(props.units.Character.model.position)\n      .setY(3)\n\n    this.coins.forEach(coin => {\n      //COLLISION\n      const distance = coin.position.distanceTo(charachterPos)\n\n      if (distance < 5) {\n        var shownSprite = this.sprites[Math.round(Math.random() * (this.sprites.length - 1))]\n        shownSprite.position.copy(charachterPos)\n        shownSprite.position.setY(shownSprite.position.y + 4)\n\n        this.registerTransition({\n          variable: shownSprite.position,\n          value: new THREE.Vector3(shownSprite.position.x, shownSprite.position.y + 3, shownSprite.position.z),\n          numberOfFrames: 25,\n          timingFuntion: 'easeOutQuad',\n          onComplete: () => shownSprite.position.setY(ArenaRadius * 2),\n        })\n\n        this.emmitCoin(coin)\n\n        props.react.addCoin()\n      }\n\n      //FALL AND ROTATION\n      dummy.position.copy(coin.position)\n      dummy.scale.copy(coin.scale)\n      switch ((coin.index) % 3) {\n        case 0:\n          dummy.rotation.x = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n        case 1:\n          dummy.rotation.y = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n        case 2:\n          dummy.rotation.z = (coin.index * 1000 + props.frameNumber * 100) / props.maxFrameNumber * Math.PI\n          break\n      }  \n\n      dummy.updateMatrix()\n      this.coinInstance.setMatrixAt(coin.index, dummy.matrix)\n    })\n    this.coinInstance.instanceMatrix.needsUpdate = true\n  }\n\n\n  emmitCoin = coin => {\n    coin.position.copy(coinInitialPos())\n    coin.scale.copy(initialScale)\n\n    this.unregisterTransition(coin.transitionId)\n\n    coin.transitionId = this.registerTransition({\n      variable: coin.position,\n      value: (new THREE.Vector3()).copy(coin.position).setY(1),\n      numberOfFrames: Math.round((.25 + Math.random()) * 250),\n      onComplete: () => {\n        coin.transitionId = this.registerTransition({\n          variable: coin.scale,\n          value: finalScale,\n          numberOfFrames: 150,\n          timingFuntion: 'easeInQuad',\n          onComplete: () => this.emmitCoin(coin)\n        })\n      }\n    })\n\n    dummy.position.copy(coin.position)\n    dummy.scale.copy(coin.scale)\n    dummy.updateMatrix()\n    this.coinInstance.setMatrixAt(coin.index, dummy.matrix)\n    this.coinInstance.instanceMatrix.needsUpdate = true\n  }\n}\n","import Unit from 'libs/engines/3d/Unit'\n\n\nconst lightDistanceToModel = 5\n\n\nexport default class Lowpoly extends Unit {\n  constructor(props) {\n    super(props)\n\n    const { scene, THREE } = props\n\n    // this.light0 = new THREE.HemisphereLight( 0xffffff, 0x444444, 5.25 )\n    // this.light0.position.set( 0, lightDistanceToModel * 3, 0 )\n    // scene.add( this.light0 )\n\n    // this.light1 = new THREE.HemisphereLight( 0xffffff, 0x444444, 0.95 )\n    // this.light1.position.set( 0, -lightDistanceToModel, 0 )\n    // scene.add( this.light1 )\n    \n    this.light2 = new THREE.DirectionalLight( 0xee55ee, 2.95 )\n    this.light2.position.set( lightDistanceToModel, lightDistanceToModel, 0 )\n    // this.light2.castShadow = true\n    scene.add( this.light2 )\n\n    this.light3 = new THREE.DirectionalLight( 0x77bbee, 2.95 )\n    this.light3.position.set( lightDistanceToModel * Math.cos(Math.PI * 2 / 3), lightDistanceToModel, lightDistanceToModel * Math.sin(Math.PI * 2 / 3) )\n    // this.light3.castShadow = true\n    scene.add( this.light3 )\n\n    this.light4 = new THREE.DirectionalLight( 0x0088ff, 2.95 )\n    this.light4.position.set( lightDistanceToModel * Math.cos(Math.PI * 4 / 3), 3, lightDistanceToModel * Math.sin(Math.PI * 4 / 3) )\n    // this.light4.castShadow = true\n    scene.add( this.light4 )\n  }\n\n  animate = props => {\n    // this.light0.position\n    //   .lerp(props.controls.target, .025)\n    //   .setY(lightDistanceToModel * 3)\n\n    const angle2 = props.frameNumber * 10 / props.maxFrameNumber * Math.PI * 2\n    const angle3 = angle2 + Math.PI * 2 / 3\n    const angle4 = angle3 + Math.PI * 2 / 3\n\n    // this.light0.position\n    //   .set(0, lightDistanceToModel * 2, 0)\n    //   // .add(props.controls.target)\n    this.light2.position\n      .set(lightDistanceToModel * Math.cos(angle2), 5, lightDistanceToModel * Math.sin(angle2))\n      // .add(props.controls.target)\n    this.light3.position\n      .set(lightDistanceToModel * Math.cos(angle3), 5, lightDistanceToModel * Math.sin(angle3))\n      // .add(props.controls.target)\n    this.light4.position\n      .set(lightDistanceToModel * Math.cos(angle4), 5, lightDistanceToModel * Math.sin(angle4))\n      // .add(props.controls.target)\n  }\n\n  dispose = () => {}\n}\n","import Unit from 'libs/engines/3d/Unit'\n\n\nexport default class Fog extends Unit {\n  constructor(props) {\n    super(props)\n\n    const { scene, THREE } = props\n\n    this.fog = new THREE.Fog(0x444444, 35, 155)\n    scene.fog = this.fog\n  }\n\n  animate = props => {}\n  dispose = () => {}\n}\n","import THREE from 'libs/engines/3d/three'\nimport Unit from 'libs/engines/3d/Unit'\nimport nipplejs from 'nipplejs'\nimport clamp from 'clamp'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\n\n\nconst moveSpeed = .55\n\nconst yAxis = new THREE.Vector3(0, 1, 0)\n\nconst initialThis = {\n  mouse: {\n    alphaX: 0,\n    alphaY: 0,\n  },\n\n  moveSpeed: moveSpeed / .06,\n  move: new THREE.Vector3(),\n  moveFlags: {\n    up: [\n      {\n        code: 87,\n        pressed: false,\n      },\n      {\n        code: 38,\n        pressed: false,\n      }\n    ],\n    down: [\n      {\n        code: 83,\n        pressed: false,\n      },\n      {\n        code: 40,\n        pressed: false,\n      }\n    ],\n    left: [\n      {\n        code: 68,\n        pressed: false,\n      },\n      {\n        code: 39,\n        pressed: false,\n      }\n    ],\n    right: [\n      {\n        code: 65,\n        pressed: false,\n      },\n      {\n        code: 37,\n        pressed: false,\n      }\n    ],\n  }\n}\n\n\nexport default class Controls extends Unit {\n  constructor(props) {\n    super(props)\n\n    Object.keys(initialThis)\n      .forEach(key => this[key] = initialThis[key])\n\n    if (isTouchDevice()) {  \n      ;\n    }\n    else {\n      window.addEventListener('mousemove', this.handleMouseMove, false)\n      window.addEventListener('keydown', this.handleKeyDown, false)\n      window.addEventListener('keyup', this.handleKeyUp, false)\n    }\n\n    window.addEventListener('resize', () => {\n      this.joystickManager && this.joystickManager.destroy && this.joystickManager.destroy()\n      this.addJoystick()\n    })\n    window.addEventListener('orientationchange', () => {\n      this.joystickManager && this.joystickManager.destroy && this.joystickManager.destroy()\n      this.addJoystick()\n    })\n  }\n\n  addJoystick = () => {\n    const zoneJoystick = document.getElementById('zone-joystick')\n    var options = {\n      zone: zoneJoystick,\n      mode: 'static',\n      position: {\n        x: Math.round(window.innerWidth < 768 ? window.innerWidth / 4 * 3 : window.innerWidth / 6 * 5),\n        y: Math.round(window.innerHeight / 7 * 6),\n      },\n      size: window.innerWidth < 768 ? 80 : 100,\n    }\n    \n    this.joystickManager = nipplejs.create(options)\n\n    this.joystickManager[0].on('move', (e, data) => {\n      // this.move.set(-data.force / 7, 0, 0)\n      this.move.set(-moveSpeed, 0, 0)\n        .applyAxisAngle(yAxis, data.angle.radian)\n    })\n    this.joystickManager[0].on('end', e => {\n      this.move.set(0, 0, 0)\n    })\n  }\n\n  init = () => {\n    this.addJoystick()\n  }\n\n  animate = props => {\n    const getDirectionState = direction =>\n      direction\n        .map(key => key.pressed)\n        .reduce((a, b) => a || b)\n      ? 1 : 0\n\n    if (!isTouchDevice())\n      this.move\n        .set(\n          getDirectionState(this.moveFlags.right) - getDirectionState(this.moveFlags.left),\n          0,\n          getDirectionState(this.moveFlags.up) - getDirectionState(this.moveFlags.down))\n        .normalize()\n        .multiplyScalar(moveSpeed)\n  }\n\n  \n  handleMouseMove = e => {\n    if (!e.pageX || !e.pageY) {\n      console.log(\"no mouse found\")\n      return\n    }\n  \n    this.mouse.alphaX = -clamp(e.pageX / window.innerWidth - .5, -.5, .5)\n    this.mouse.alphaY = clamp(e.pageY / window.innerHeight - .5, -.5, .5)\n  }\n\n  handleKeyDown = e =>\n    Object.keys(this.moveFlags)\n      .forEach(direction =>\n        this.moveFlags[direction]\n          .forEach(key =>\n            key.pressed |= (key.code === e.keyCode)))\n\n  handleKeyUp = e =>\n    Object.keys(this.moveFlags)\n      .forEach(direction =>\n        this.moveFlags[direction]\n          .forEach(key =>\n            key.pressed &= !(key.code === e.keyCode)))\n\n\n  dispose = () => {\n    if (isTouchDevice())\n      ;\n    else\n      window.removeEventListener('mousemove', this.handleMouseMove, false)\n  }\n}\n","// import { UnrealBloomPass } from './customUnrealBloomPass'\nimport { BloomEffect, EffectPass } from 'postprocessing'\nimport Unit from 'libs/engines/3d/Unit'\n\n\nexport default class BloomPostprocessing extends Unit {\n  constructor(props) {\n    super(props)\n\n    const {\n      camera,\n      composer,\n    } = props\n\n    this.bloom = new BloomEffect()\n    //–í–û–¢ –¢–£–¢ –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –ë–õ–£–ú\n    this.bloom.intensity = 1\n\n    this.pass = new EffectPass(camera, this.bloom)\n    composer.addPass(this.pass)\n  }\n\n  animate = props => {}\n  dispose = () => {}\n}\n","import React from 'react'\n\n\nexport default props =>\n  <div className=\"coins-collected\">\n    {props.number}\n  </div>","import React, { Component } from 'react'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport Scene from 'libs/engines/3d/Scene'\nimport Character from 'libs/engines/3d/units/Character'\nimport Landscape from 'libs/engines/3d/units/Landscape'\nimport Coins from 'libs/engines/3d/units/Coins'\nimport Lights from 'libs/engines/3d/units/Lights'\nimport Fog from 'libs/engines/3d/units/Fog'\nimport Controls from 'libs/engines/3d/units/Controls'\n// import VignettePostprocessing from 'libs/engines/3d/units/VignettePostprocessing'\n// import FilmGrainPostprocessing from 'libs/engines/3d/units/FilmGrainPostprocessing'\nimport BloomPostprocessing from 'libs/engines/3d/units/BloomPostprocessing'\n// import EasterEgg from 'libs/engines/3d/units/EasterEgg'\n\nimport CoinsCollected from 'components/CoinsCollected'\n\n\nexport default class ThreeScene extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      coinsCollected: 0,\n    }\n\n    this.viewerRef = new React.createRef()\n\n    this.scene = new Scene({\n      react: {\n        addCoin: () => this.setState({coinsCollected: this.state.coinsCollected + 1})\n      },\n      units: {\n        Character: {\n          unit: Character,\n          disabled: false,\n        },\n        Landscape: {\n          unit: Landscape,\n          disabled: false,\n        },\n        Coins: {\n          unit: Coins,\n          disabled: false,\n        },\n        Lights: {\n          unit: Lights,\n          disabled: false,\n        },\n        Fog: {\n          unit: Fog,\n          disabled: false,\n        },\n        Controls: {\n          unit: Controls,\n          disabled: false,\n        },\n        // FilmGrainPostprocessing: {\n        //   unit: FilmGrainPostprocessing,\n        //   disabled: false,\n        // },\n        BloomPostprocessing: {\n          unit: BloomPostprocessing,\n          disabled: false,\n        },\n        // VignettePostprocessing: {\n        //   unit: VignettePostprocessing,\n        //   disabled: false,\n        // },\n        // EasterEgg: {\n        //   unit: EasterEgg,\n        //   disabled: false,\n        // },\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.resizeObs = new ResizeObserver(this.resize.bind(this))\n      .observe(this.viewerRef.current)\n\n    this.scene.init(this.viewerRef.current)\n  }\n\n  componentWillUnmount = () => {\n    this.scene.dispose()\n    // this.viewerRef.removeChild(this.renderer.domElement)\n  }\n\n  resize() {\n    const ViewerDiv = this.viewerRef && this.viewerRef.current\n    \n    if (!ViewerDiv)\n      return\n\n    this.scene.resize(ViewerDiv.clientWidth, ViewerDiv.clientHeight)\n  }\n\n  render = () =>\n    <div\n      className=\"Viewer\"\n      ref={this.viewerRef}\n    >\n      <CoinsCollected number={this.state.coinsCollected} />\n      <div id=\"zone-joystick\" />\n    </div>\n}\n","import React, { Component } from 'react'\n\n\nconst shrinkTime = 300\n\nexport default class TextArea extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentIndex: 0,\n      shrinked: false,\n    }\n  }\n\n  componentDidMount = () =>\n    this.changeWordInterval = setInterval(\n      () => this.changeWord()\n      , 1500)\n  componentWillUnmount = () =>\n    clearInterval(this.changeWordInterval)\n\n  changeWord = () => {\n    this.setState({shrinked: true})\n    setTimeout(() => this.setState({\n      shrinked: false,\n      currentIndex: this.modulus(this.state.currentIndex + 1),\n    }), shrinkTime)\n  }\n\n  modulus = number =>\n    (this.props.words.length * 10 + number) % this.props.words.length\n  \n  render = () =>\n    <div className=\"word-changer\">\n      <div className={\"word-changer__container \" + (this.state.shrinked && \"word-changer__container--shrinked\")}>\n        {this.props.words\n          .map((item, index) => {\n            const word = this.props.words[this.modulus(this.state.currentIndex - index - 2)]\n\n            return (\n              <div\n                className=\"item\"\n                key={word}\n              >\n                {word}\n              </div>\n        )})}\n      </div>\n    </div>\n}\n\n","import React, { Component } from 'react'\n\n\nexport default class ControlsHelper extends Component {\n  state = {\n    showControlsHelper: true,\n  }\n\n  render = () =>\n    this.state.showControlsHelper &&\n      <div className=\"controls-helper\">\n        <div\n          className=\"controls-helper__close\"\n          onClick={() => this.setState({showControlsHelper: false})}\n        />\n        <div className=\"controls-helper__text controls-helper__text--desktop\">\n          —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏,<br />–¥–≤–∏–≥–∞–π—Ç–µ –∫–∞–º–µ—Ä—É –º—ã—à–∫–æ–π.<br />–æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã<br />—Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å\n        </div>\n        <div className=\"controls-helper__text controls-helper__text--mobile\">\n          —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–∂–æ–π—Å—Ç–∏–∫–æ–º.<br />–æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã<br />—Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å\n        </div>\n      </div>\n}\n\n","import React from 'react'\n\nimport AppStore from 'img/app-store.png'\nimport GooglePlay from 'img/google-play.png'\n\n\nexport default () =>\n  <div className=\"download-links\">\n    <div className=\"download-links__width-container\">\n      <div className=\"download-links__width-container__abs-container\">\n        <img src={AppStore} />\n        <img src={GooglePlay} />\n      </div>\n    </div>\n  </div>\n\n","import React from 'react'\n\nexport default (props) => (\n  <a\n    className={props.className}\n    href={props.to}\n    target={props.newTab ? \"_blank\" : \"\"}\n    rel=\"noopener noreferrer\"\n  >\n    {props.children}\n  </a>\n)","import React from 'react'\n\nimport AppStore from 'img/app-store.png'\nimport GooglePlay from 'img/google-play.png'\n\n\nexport default props =>\n  props.show &&\n    <div\n      className=\"video-modal\"\n      onClick={() => props.hide()}\n    >\n      <div className=\"video-modal__container\">\n        <div className=\"video-modal__container__abs-container\">\n          <iframe\n            // width=\"560\"\n            // height=\"315\"\n            src=\"https://www.youtube.com/embed/9UYSotyGXoM\"\n            frameborder=\"0\"\n            allow=\"accelerometer;\n            autoplay;\n            encrypted-media;\n            gyroscope;\n            picture-in-picture\"\n            allowfullscreen\n          />\n        </div>\n      </div>\n    </div>\n","import React from 'react'\n\n\nexport default props =>\n  <div\n    {...props}\n    className={\"arrow \" + (props.left && \"arrow--left\")}\n  >\n    <span className=\"arrow__item\" />\n    <span className=\"arrow__item arrow__item--segunda\" />\n  </div>\n","import React, { Component } from 'react'\nimport debounce from 'debounce'\nimport clamp from 'clamp'\n\nimport WordChanger from 'components/WordChanger'\nimport ControlsHelper from 'components/ControlsHelper'\nimport DownloadLinks from 'components/DownloadLinks'\nimport ExternalLink from 'components/ExternalLink'\nimport VideoModal from 'components/VideoModal'\nimport Arrow from 'components/Arrow'\n\n\nconst numberOfSlides = 3\nconst slides = [\"intro\", \"desc\", \"credits\"]\n\nexport default class TextArea extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentSlide: 0,\n      showVideoModal: false,\n    }\n\n    this.scrollableContainerRef = React.createRef()\n    this.scrollableContentRef = React.createRef()\n  }\n\n  componentDidMount = () =>\n    this.scrollableContainerRef.current\n      .addEventListener(\"scroll\", e => this.debouncedOnScroll(e))\n\n  componentWillUnmount = () =>\n    this.scrollableContainerRef.current\n      .removeEventListener(\"scroll\", e => this.debouncedOnScroll(e))\n\n  onScroll = e => {\n    // console.log(this.scrollableContentRef.current.getBoundingClientRect().top)\n    // console.log(this.scrollableContentRef.current.scrollTop)\n    const scrollAlpha = -this.scrollableContentRef.current.getBoundingClientRect().top / this.getMaxScroll()\n    const currentSlide = parseInt(Math.floor(scrollAlpha * .999 * numberOfSlides))\n\n    if (currentSlide !== this.state.currentSlide)\n      this.setState({\n        currentSlide: currentSlide,\n      })\n  }\n  debouncedOnScroll = e =>\n    debounce(this.onScroll(e), 100)\n  \n  getMaxScroll = () =>\n    this.scrollableContainerRef.current &&\n    this.scrollableContentRef.current ?\n      this.scrollableContentRef.current.clientHeight - this.scrollableContainerRef.current.clientHeight\n      :\n      0\n\n  nextSlide = () =>\n    document\n      .getElementById(slides[this.state.currentSlide + 1])\n      .scrollIntoView()\n  prevSlide = () =>\n    document\n      .getElementById(slides[this.state.currentSlide - 1])\n      .scrollIntoView()\n\n  render = () =>\n    <div className=\"landing\">\n      \n      <div className={\"landing__content landing__content--\" + this.state.currentSlide}>\n\n        <h1 className=\"landing__content__h1\">\n          SITTING&nbsp;IN&nbsp;A<br />\n          ROOM.&nbsp;I&nbsp;AM.\n        </h1>\n\n        <div className=\"landing__content__description-0\">\n            —ç—Ç–æ –Ω–µ <WordChanger words={[\"–∫–∏–Ω–æ\", \"–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å\", \"–∏–≥—Ä–∞\", \"–ø–æ–¥–∫–∞—Å—Ç\", \"—à–æ—É\", \"—Å–ø–µ–∫—Ç–∞–∫–ª—å\"]} />\n          <br />\n            —ç—Ç–æ –≤—Å—ë –≤–º–µ—Å—Ç–µ. –∏ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ.\n        </div>\n\n        <div className=\"landing__content__description-1\">\n          —á—Ç–æ –≥–æ–ª–æ–¥–Ω–∞—è —Å–º–µ—Ä—Ç—å –±—Ä–∏—Ç–∞–Ω—Ü–∞ –≤ —Ç—è–∂—ë–ª–æ–π –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –º–æ–∂–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –Ω–∞–º –æ —Ç–æ–º, –∫–∞–∫ –º—ã —Ä–∞—Å–ø–æ—Ä—è–∂–∞–µ–º—Å—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –±—É–¥–µ–º —Ä–∞—Å–ø–æ—Ä—è–∂–∞—Ç—å—Å—è –∏–º–∏ –≤ –±—É–¥—É—â–µ–º? —á—Ç–æ —Ç–∞–∫–æ–µ –±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –±–∞–∑–æ–≤—ã–π –¥–æ—Ö–æ–¥? –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤–∞—à–∞ –∂–∏–∑–Ω—å, –ø–æ–ª—É—á–∞–π –≤—ã –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –∑–∞—Ä–ø–ª–∞—Ç—É —Ç–æ–ª—å–∫–æ –∑–∞ —Ç–æ, —á—Ç–æ –∂–∏–≤—ë—Ç–µ? \n        </div>\n\n        <div className=\"landing__content__description-2\">\n          –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –ø–æ–ª—É—á–∞–µ—Ç–µ –∑–∞—Ä–ø–ª–∞—Ç—É –ø—Ä–æ—Å—Ç–æ –∑–∞ —Ç–æ, —á—Ç–æ –∂–∏–≤—ë—Ç–µ. –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ –¥–µ–ª–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ ‚Äî –≤—ã–ø–ª–∞—Ç–∞ –±–µ–∑—É—Å–ª–æ–≤–Ω–∞—è –∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤–∞—à–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç—å? –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∂–∏–∑–Ω—å –≤–∞—à–∏—Ö —Å–æ—Å–µ–¥–µ–π –∏ —Å–æ–≥—Ä–∞–∂–¥–∞–Ω, –ø–æ–ª—É—á–∞–π –æ–Ω–∏ —Ç–µ –∂–µ –≤—ã–ø–ª–∞—Ç—ã? \n          <br /><br />\n          –±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –±–∞–∑–æ–≤—ã–π –¥–æ—Ö–æ–¥ ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∑–∞–º–µ—Ç–Ω—ã—Ö –±–æ–ª—å—à–∏—Ö –∏–¥–µ–π, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏—Ö –±—É–¥—É—â–µ–µ. —Å–µ–π—á–∞—Å –æ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞ –∫–∞–∫ –Ω–∏–∫–æ–≥–¥–∞: —ç–ø–æ—Ö–∞ –ø–æ—Å—Ç—Ä–∞–±–æ—Ç—ã –Ω–∞—Å—Ç—É–ø–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å –ø–æ–≤–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –≤—Ä–µ–º—è –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞, –Ω–æ –∏ –æ—Å—Ç–∞–≤–ª—è—è –º–∏–ª–ª–∏–æ–Ω—ã –ª—é–¥–µ–π –Ω–µ–∑–∞—â–∏—â—ë–Ω–Ω—ã–º–∏. \n          <br /><br />\n          –º—ã —É–∑–Ω–∞–ª–∏ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–æ –±–∞–∑–æ–≤—ã–π –¥–æ—Ö–æ–¥, –∏ —Å–æ–±—Ä–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π –æ —Ç–æ–º, –∫–∞–∫ –ë–ë–î –º–æ–≥ –±—ã –±—É–∫–≤–∞–ª—å–Ω–æ —Å–ø–∞—Å–∞—Ç—å –∂–∏–∑–Ω–∏. –∫–∞–∫ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –ø–∏–ª–æ—Ç–Ω—ã–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ –¥–æ—Ö–æ–¥–∞? –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –ª–∏ –ª—é–¥–∏ —Ä–∞–±–æ—Ç–∞—Ç—å? –∫–∞–∫ –±–∞–∑–æ–≤—ã–π –¥–æ—Ö–æ–¥ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∂–µ–Ω—â–∏–Ω –∏–∑ —Ä–∞–±—Å—Ç–≤–∞ –∏ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç –∏–∑–Ω–∞—Å–∏–ª–æ–≤–∞–Ω–∏–π? –∫–∞–∫ –æ–Ω –ø–æ–º–æ–≥–∞–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å —É–Ω–∏–∂–µ–Ω–∏–µ –∏–∑ –æ—Ç–æ—à–µ–Ω–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞? –ø–æ—á–µ–º—É —Å –ë–î –ª—é–¥–∏ —á—É–≤—Å—Ç–≤—É—é—Ç —Å–µ–±—è —Å—Ç–∞–±–∏–ª—å–Ω–æ –ª—É—á—à–µ? –∏ –ø—Ä–∏ —á—ë–º —Ç—É—Ç –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä —ç–ª–≤–∏–Ω –ª—é—Å—å–µ? SITTING IN A ROOM. I AM. ‚Äî —ç—Ç–æ –∏–º–º–µ—Ä—Å–∏–≤–Ω—ã–π –æ–ø—ã—Ç –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤—Å–µ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã; –ø—Ä—è–º–æ —É –≤–∞—Å –≤ –∫–æ–º–Ω–∞—Ç–µ. \n          <br /><br />\n          —Ä–µ–ª–∏–∑ –≤ appstore –∏ google play ‚Äî –¥–æ –∫–æ–Ω—Ü–∞ –∏—é–Ω—è.\n        </div>\n\n        <div className=\"landing__content__credits\">\n          <span className=\"green\">–≥–æ–ª–æ—Å–∞</span> —Å–∞—à–∞&nbsp;—Å—Ç–∞—Ä–æ—Å—Ç—å, –º–∞—Ä–∏—è&nbsp;–∫—É–≤—à–∏–Ω–æ–≤–∞, –∫–∞—Ç—è&nbsp;–º–æ–∫—à–∞–Ω–∫–∏–Ω–∞, –∞–ª–µ–∫—Å–µ–π&nbsp;–¥–æ—Ä–æ–Ω–∏–Ω, –æ–∫—Å–∞–Ω–∞&nbsp;–ø–æ–≥—Ä–µ–±–Ω—è–∫, —Å–ª–∞–≤–∞&nbsp;–ø–µ—Ä–æ–≤—Å–∫–∏–π, –∞—Ä—Ç—ë–º&nbsp;—Ç–æ–º–∏–ª–æ–≤, –º–∞—Ä–∏–Ω–∞&nbsp;–≥–∞–Ω–∞—Ö, –¥–º–∏—Ç—Ä–∏–π&nbsp;–æ—Ç—è–∫–æ–≤—Å–∫–∏–π\n          <br /><br />\n          <span className=\"green\">–≤–∏–¥–µ–æ</span> –ø–∞–≤–µ–ª&nbsp;–∫–Ω—è–∑–µ–≤<br />\n          <span className=\"green\">–ª—ç–Ω–¥–∏–Ω–≥</span> –ª–µ–≤&nbsp;–≤–∞—Å–∏–ª—å–µ–≤<br />\n          <span className=\"green\">–∑–≤—É–∫</span> –ª–µ–æ–Ω–∏–¥&nbsp;–∏–º–µ–Ω–Ω—ã—Ö<br />\n          <span className=\"green\">—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span> –∞—Ä—Ç—ë–º&nbsp;–≤–∞—Å–∏—á, –∏–ª—å—è&nbsp;—Å–∞—è–ø–∏–Ω<br />\n          <span className=\"green\">—Ç–µ–∫—Å—Ç, –ø—Ä–æ–¥–∞–∫—à–Ω, AR&#8209;—Å—Ü–µ–Ω—ã</span> –≤–∏–∫—Ç–æ—Ä&nbsp;–≤–∏–ª–∏—Å–æ–≤<br />\n          <DownloadLinks />\n        </div>\n\n        <div className=\"landing__content__links\">\n          <div\n            className=\"landing__content__links__item\"\n            onClick={() => this.setState({showVideoModal: true})}\n          >\n            —Ç—Ä–µ–π–ª–µ—Ä\n          </div>\n          <ExternalLink newTab to=\"https://anchor.fm/apolloniada/episodes/500-ef0226\">\n            <div className=\"landing__content__links__item\">\n              –ø–æ–¥–∫–∞—Å—Ç\n            </div>\n          </ExternalLink>\n        </div>\n\n      </div>\n\n      <div\n        ref={this.scrollableContainerRef}\n        className=\"landing__scrollable\"\n      >\n        <div\n          ref={this.scrollableContentRef}\n          className=\"landing__scrollable__long-part\"\n        >\n          {slides.map(slide =>\n            <div\n              className=\"anchor\"\n              id={slide}\n            />\n          )}\n        </div>\n      </div>\n\n      <ControlsHelper />\n\n      {this.state.currentSlide > 1 &&\n        <Arrow\n          left\n          onClick={() => this.prevSlide()}\n        />}\n      {this.state.currentSlide < numberOfSlides - 1 &&\n        <Arrow\n          onClick={() => this.nextSlide()}\n        />}\n\n      <VideoModal\n        show={this.state.showVideoModal}\n        hide={() => this.setState({showVideoModal: false})}\n      />\n\n    </div>\n}\n\n","import React from 'react'\nimport Div100vh from 'react-div-100vh'\nimport ThreeScene from './components/ThreeScene'\nimport TextArea from './components/TextArea'\n\nimport 'styles/index.sass'\n\n\nconst App = () =>\n  <Div100vh>\n    <ThreeScene/>\n    <TextArea/>\n  </Div100vh>\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}